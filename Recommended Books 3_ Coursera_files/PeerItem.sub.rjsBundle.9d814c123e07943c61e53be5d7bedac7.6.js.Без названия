define("nls/peer",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/peer/api/peerPermissionsAndProgressesApi",["require","exports","module","q","underscore","jsuri","js/lib/api"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var d=require("q"),o=_interopRequireDefault(d),l=require("underscore"),e=_interopRequireDefault(l),n=require("jsuri"),t=_interopRequireDefault(n),a=require("js/lib/api"),u=_interopRequireDefault(a),p=u["default"]("/api/onDemandPeerAssignmentPermissions.v1",{type:"rest"}),s="onDemandPeerSubmissionProgresses.v1",i="onDemandPeerReceivedReviewProgresses.v1",r="onDemandPeerDisplayablePhaseSchedules.v1",P=["latestSubmissionSummary","latestDraftSummary"],f=["evaluationIfReady","earliestCompletionTime","reviewCount","defaultReceivedReviewRequiredCount"],v=["currentPhase","phaseEnds","phaseStarts"],c=["deleteSubmission","listSubmissions","reviewPeers","viewReviewSchema",s+"("+P.join(",")+")",i+"("+f.join(",")+")",r+"("+v.join(",")+")"],m=["receivedReviewsProgress","submissionProgress","phaseSchedule"];exports.getPermissionsAndProgresses=function(n,a,u){var d=new t["default"](n+"~"+a+"~"+u).addQueryParam("fields",c.join(",")).addQueryParam("includes",m.join(","));return o["default"](p.get(d.toString())).then(function(n){return{assignmentPermissions:e["default"](n.elements).first(),submissionProgresses:e["default"](n.linked[s]).first(),receivedReviewProgresses:e["default"](n.linked[i]).first(),displayablePhaseSchedules:e["default"](n.linked[r]).first()}})}});
define("bundles/peer/api/onDemandPeerSubmissionDraftsApi",["require","exports","module","q","jsuri","js/lib/api"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function responseHandler(e){if(e.elements&&e.elements.length){var n=e.linked["onDemandPeerSubmissionSchemas.v1"]&&e.linked["onDemandPeerSubmissionSchemas.v1"].length&&e.linked["onDemandPeerSubmissionSchemas.v1"][0],r=e.linked["onDemandPeerReviewSchemas.v1"]&&e.linked["onDemandPeerReviewSchemas.v1"].length&&e.linked["onDemandPeerReviewSchemas.v1"][0];if(null==n)throw new Error("No linked submission schema in onDemandPeerSubmissionDraftsApi");return u({},e.elements[0],{reviewSchema:r,submissionSchema:n})}throw new Error("No elements received in onDemandPeerSubmissionDraftsApi")}var u=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},o=require("q"),i=_interopRequireDefault(o),s=require("jsuri"),e=_interopRequireDefault(s),t=require("js/lib/api"),d=_interopRequireDefault(t),r=d["default"]("/api/onDemandPeerSubmissionDrafts.v1",{type:"rest"}),n=["submission","context","creatorId","attachedAssignmentId","createdAt","upgradeSubmissionToLatestAssignment","blocksSubmit","validationErrors","onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"],a=["reviewSchemas","submissionSchemas"];exports.getSubmissionDraft=function(s){var t=s.userId,d=s.courseId,o=s.itemId,u=t+"~"+d+"~"+o,m=new e["default"](u).addQueryParam("fields",n.join(",")).addQueryParam("includes",a.join(","));return i["default"](r.get(m.toString())).then(responseHandler)},exports.updateSubmissionDraft=function(s){var t=s.userId,d=s.courseId,o=s.itemId,u=s.submissionDraftUpdate,m=t+"~"+d+"~"+o,c=new e["default"](m).addQueryParam("fields",n.join(",")).addQueryParam("includes",a.join(","));return i["default"](r.put(c.toString(),{data:u})).then(responseHandler)},exports.forceUpgradedSubmissionDraft=function(s){var t=s.userId,d=s.courseId,o=s.itemId,u=s.forceUpgradeToAssignmentId,m=t+"~"+d+"~"+o,c=(new e["default"]).addQueryParam("action","forceUpgradedDraft").addQueryParam("id",m).addQueryParam("forceUpgradeToAssignmentId",u).addQueryParam("fields",n.join(",")).addQueryParam("includes",a.join(","));return i["default"](r.post(c.toString())).then(function(e){return e[0]})}});
define("bundles/peer/api/peerAssignmentApi",["require","exports","module","q","jsuri","js/lib/api"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var e=require("q"),a=_interopRequireDefault(e),r=require("jsuri"),i=_interopRequireDefault(r),n=require("js/lib/api"),s=_interopRequireDefault(n),t=s["default"]("/api/onDemandPeerAssignmentInstructions.v1",{type:"rest"}),d=["instructions"],u=["requiredAuthoredReviewCount","isMentorGraded","assignmentDetails"];exports.getAssignment=function(e){var r=e.userId,n=e.courseId,s=e.itemId,m=(new i["default"]).addQueryParam("q","latest").addQueryParam("userId",r.toString()).addQueryParam("courseId",n).addQueryParam("itemId",s).addQueryParam("includes",["gradingMetadata","reviewSchemas","submissionSchemas"].join(",")).addQueryParam("fields",[d,"onDemandPeerAssignmentGradingMetadata.v1("+u.join(",")+")","onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"].join(","));return a["default"](t.get(m.toString()))}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});


define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define("bundles/peer/actions/PeerActions",["require","exports","module","q","underscore","bundles/peer/reducers/PeerAssignmentReducer","bundles/peer/api/peerPermissionsAndProgressesApi","bundles/peer/api/onDemandPeerSubmissionDraftsApi","bundles/peer/api/peerAssignmentApi","bundles/peer/api/onDemandPeerQueuedSubmissionSummariesApi","bundles/peer/actions/SubmissionViewActions","bundles/peer/utils/responseConversionUtils","bundles/peer-common/utils/initializeSubmissionFromSchema","bundles/ondemand/actions/ProgressActions","./constants"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var c=require("q"),s=_interopRequireDefault(c),P=require("underscore"),n=_interopRequireDefault(P),r=require("bundles/peer/reducers/PeerAssignmentReducer"),t=require("bundles/peer/api/peerPermissionsAndProgressesApi"),o=_interopRequireDefault(t),u=require("bundles/peer/api/onDemandPeerSubmissionDraftsApi"),d=_interopRequireDefault(u),a=require("bundles/peer/api/peerAssignmentApi"),m=_interopRequireDefault(a),g=require("bundles/peer/api/onDemandPeerQueuedSubmissionSummariesApi"),l=_interopRequireDefault(g),S=require("bundles/peer/actions/SubmissionViewActions"),i=require("bundles/peer/utils/responseConversionUtils"),p=require("bundles/peer-common/utils/initializeSubmissionFromSchema"),b=_interopRequireDefault(p),A=require("bundles/ondemand/actions/ProgressActions"),e=require("./constants"),h=function loadAssignment(n,s){var t=s.userId,o=s.courseId,r=s.itemId;return n.dispatch(e.ActionNames.LOADING_PEER_ASSIGNMENT),m["default"].getAssignment({userId:t,courseId:o,itemId:r}).then(function(s){return n.dispatch(e.ActionNames.LOADED_PEER_ASSIGNMENT,{assignment:i.convertNaptimeAssignment(s),loadedItemId:r}),s})},f=function loadPermissionsAndProgresses(s,i){var r=i.userId,t=i.courseId,u=i.itemId;return s.dispatch(e.ActionNames.LOADING_PEER_USER_PERMISSIONS),o["default"].getPermissionsAndProgresses(r,t,u).then(function(i){s.dispatch(e.ActionNames.LOADED_DISPLAYABLE_PHASE_SCHEDULE,{displayablePhaseSchedule:i.displayablePhaseSchedules}),i.assignmentPermissions;var r=n["default"](i.assignmentPermissions).chain().pick(function(e){return e.isAllowed}).keys().value();return s.dispatch(e.ActionNames.LOADED_PEER_USER_PERMISSIONS,{capabilities:r,capabilitiesWithReasons:i.assignmentPermissions,receivedReviewProgresses:i.receivedReviewProgresses,submissionProgresses:i.submissionProgresses}),i})},E=function loadSubmissionDraft(t,n){var o=n.userId,u=n.courseId,a=n.itemId,m=n.permissionsAndProgresses,r=n.submissionSchema,c=n.reviewSchema;return t.dispatch(e.ActionNames.PEER_SUBMISSION_DRAFT_LOADING),null==m.submissionProgresses.latestDraftSummary?s["default"](i.initializeOwnSubmissionFromNaptimeSchema(r,c,o)).then(function(s){return t.dispatch(e.ActionNames.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmissionSchema:r,naptimeSubmission:b["default"](r.submissionSchema,o),latestSubmissionAndRelated:s})}):d["default"].getSubmissionDraft({userId:o,courseId:u,itemId:a}).then(function(s){var n=i.convertNaptimeSubmissionDraftToOwnSubmission(s);return t.dispatch(e.ActionNames.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmission:s.submission,naptimeSubmissionSchema:r,latestSubmissionAndRelated:n})})},I=function loadLatestSubmission(n,e){var r=e.userId,t=e.courseId,o=e.itemId,i=e.permissionsAndProgresses,u=e.submissionSchema,d=e.reviewSchema,a=e.shouldLoadOwnPeerViewSubmission;return null==i.submissionProgresses.latestSubmissionSummary?E(n,{userId:r,courseId:t,itemId:o,permissionsAndProgresses:i,submissionSchema:u,reviewSchema:d}):a?S.loadSubmission(n,{userId:r,courseId:t,itemId:o,submissionId:i.submissionProgresses.latestSubmissionSummary.computed.id}):s["default"]()};exports.loadReviewQueue=function(n,s){var r=s.userId,t=s.itemId,o=s.courseId,u=s.limit,d=s.start;return n.dispatch(e.ActionNames.REVIEW_QUEUE_LOADING),l["default"].getReviewQueue({userId:r,courseId:o,itemId:t,start:d,limit:u}).then(function(e){return i.convertNaptimeReviewQueue(e)}).then(function(s){n.dispatch(e.ActionNames.REVIEW_QUEUE_LOADED,{data:s})})["catch"](function(s){if(403!==s.status)throw s;n.dispatch(e.ActionNames.REVIEW_QUEUE_ERROR,{errorType:"mustSubmitBeforeReviewing"})})},exports.loadInitialPeerData=function(i,e){var t=e.userId,o=e.courseId,n=e.itemId,d=e.forceRefresh,a=e.shouldLoadOwnPeerViewSubmission,u=i.getStore(r.store).getState(),m="loaded"===u.loadState,c=n!==u.loadedItemId;if(!d&&m&&!c)return s["default"]({});return s["default"].all([f(i,{userId:t,courseId:o,itemId:n}),h(i,{userId:t,courseId:o,itemId:n})]).spread(function(s,e){return I(i,{userId:t,courseId:o,itemId:n,permissionsAndProgresses:s,submissionSchema:e.linked["onDemandPeerSubmissionSchemas.v1"][0],reviewSchema:e.linked["onDemandPeerReviewSchemas.v1"][0],shouldLoadOwnPeerViewSubmission:a})})},exports.refreshSubmissionAndProgress=function(s,e){var i=e.userId,n=e.courseId,r=e.itemId;return exports.loadInitialPeerData(s,{userId:i,courseId:n,itemId:r,forceRefresh:!0,shouldLoadOwnPeerViewSubmission:!0}).then(function(){return s.executeAction(A.getProgress,{authenticated:!0,courseId:n,userId:i,refreshProgress:!0})})}});
define("bundles/peer/reducers/DisplayablePhaseScheduleReducer",["require","exports","module","js/lib/create-store-from-reducer","bundles/peer/actions/constants"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function displayablePhaseSchedule(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,s=arguments[1];switch(s.type){case e.ActionNames.LOADED_DISPLAYABLE_PHASE_SCHEDULE:return a({},t,{loaded:!0,displayablePhaseSchedule:s.displayablePhaseSchedule});default:return t}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},t=require("js/lib/create-store-from-reducer"),s=_interopRequireDefault(t),e=require("bundles/peer/actions/constants"),r={loaded:!1,displayablePhaseSchedule:void 0};exports.store=s["default"](displayablePhaseSchedule,"DisplayablePhaseScheduleStore",[e.ActionNames.LOADED_DISPLAYABLE_PHASE_SCHEDULE],r),exports.reducer=displayablePhaseSchedule});
define("bundles/peer/reducers/PeerReviewQueueReducer",["require","exports","module","js/lib/create-store-from-reducer","bundles/peer/actions/constants"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function peerReviewQueue(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s=arguments[1];switch(s.type){case e.ActionNames.REVIEW_QUEUE_LOADING:return r({},n,{submissions:null,loaded:!1,loadState:"loading"});case e.ActionNames.REVIEW_QUEUE_LOADED:return r({},n,{submissions:s.data,loaded:!0,loadState:"loaded"});case e.ActionNames.REVIEW_QUEUE_ERROR:return r({},n,{loaded:!0,loadState:"loadError",errorType:s.errorType});default:return n}}var r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},n=require("js/lib/create-store-from-reducer"),s=_interopRequireDefault(n),e=require("bundles/peer/actions/constants"),t={submissions:null,loaded:!1,loadState:"none",errorType:null};exports.store=s["default"](peerReviewQueue,"PeerReviewQueueStore",[e.ActionNames.REVIEW_QUEUE_LOADING,e.ActionNames.REVIEW_QUEUE_LOADED,e.ActionNames.REVIEW_QUEUE_ERROR],t),exports.reducer=peerReviewQueue});
define("bundles/peer/reducers/PeerPermissionsAndProgressesReducer",["require","exports","module","js/lib/create-store-from-reducer","bundles/peer/actions/constants"],function(require,exports,module){function _interopRequireDefault(s){return s&&s.__esModule?s:{"default":s}}function peerPermissionsAndProgresses(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,i=arguments[1];switch(i.type){case s.ActionNames.LOADING_PEER_USER_PERMISSIONS:return{submissionProgress:void 0,isSubmitted:void 0,capabilities:[],capabilitiesWithReasons:{},receivedReviewProgresses:void 0,loadState:"loading",latestSubmissionId:void 0};case s.ActionNames.LOADED_PEER_USER_PERMISSIONS:var t=i.submissionProgresses&&i.submissionProgresses.latestSubmissionSummary&&i.submissionProgresses.latestSubmissionSummary.computed.id,o=i.submissionProgresses&&i.submissionProgresses.latestDraftSummary&&i.submissionProgresses.latestDraftSummary.computed.id,a=t||o;return{submissionProgress:i.submissionProgresses,isSubmitted:!!i.submissionProgresses.latestSubmissionSummary,capabilities:i.capabilities,capabilitiesWithReasons:i.capabilitiesWithReasons,receivedReviewProgresses:i.receivedReviewProgresses,loadState:"loaded",latestSubmissionId:a};default:return r}}var i=require("js/lib/create-store-from-reducer"),r=_interopRequireDefault(i),s=require("bundles/peer/actions/constants"),e={capabilities:[],capabilitiesWithReasons:{},receivedReviewProgresses:void 0,loadState:"none",isSubmitted:void 0,submissionProgress:void 0,latestSubmissionId:void 0};exports.store=r["default"](peerPermissionsAndProgresses,"PeerPermissionsAndProgressesStore",[s.ActionNames.LOADED_PEER_USER_PERMISSIONS,s.ActionNames.LOADING_PEER_USER_PERMISSIONS],e),exports.reducer=peerPermissionsAndProgresses});
define("bundles/peer/utils/initializeBackboneReviews",["require","exports","module","underscore","pages/open-course/peerReview/reviewTypes/structured/models/review"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var e=require("underscore"),r=_interopRequireDefault(e),s=require("pages/open-course/peerReview/reviewTypes/structured/models/review"),i=_interopRequireDefault(s);module.exports=function(e){var s=e.reviews,u=e.userProfiles;return s.map(function(e){return new i["default"](Object.assign({},e,e.definition,{creator:r["default"](u).findWhere({userId:e.creatorId})}),{parse:!0})})}});
define("bundles/peer/reducers/ReviewSubmissionReducer",["require","exports","module","underscore","bundles/peer/actions/constants","bundles/peer/utils/initializeReviewFromSchema","bundles/peer/utils/initializeBackboneReviews","pages/open-course/peerReview/reviewTypes/factories/schemaFactory"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function reviewSubmissionReducer(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments[1];switch(n.type){case r.ActionNames.REVIEW_SUBMISSION_INITIALIZE:var d=n.reviewSchema,o=n.reviewsResponse,m=n.viewerId,p=l["default"](d),c=i["default"](o.reviews).find(function(e){return e.creatorId===m});return{backboneReviewSchema:p,review:c&&c.definition||s["default"](d),reviews:o,backboneReviews:u["default"]({reviews:o.reviews,userProfiles:o.userProfiles}),submitState:c?"submitted":"notSubmitted",errorType:null,reviewValidationErrors:null};case r.ActionNames.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW:var v=a.review,w=n.change,S=n.reviewSchemaPartId;if(null==v)return a;var b=e({},v,{parts:i["default"](v.parts).mapObject(function(r,i){return i===S?e({},r,{definition:e({},r.definition,w)}):r})});return e({},a,{review:b});case r.ActionNames.REVIEW_SUBMISSION_SUBMITTING:return e({},a,{submitState:"submitting",errorType:null,errorTree:null});case r.ActionNames.REVIEW_SUBMISSION_SUBMIT_ERROR:return e({},a,{submitState:"submitError",errorType:n.errorType,reviewValidationErrors:n.reviewValidationErrors});case r.ActionNames.REVIEW_SUBMISSION_SUBMITTED:return e({},a,{submitState:"submitted",errorType:null,errorTree:null});default:return a}}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n=require("underscore"),i=_interopRequireDefault(n),r=require("bundles/peer/actions/constants"),c=require("bundles/peer/utils/initializeReviewFromSchema"),s=_interopRequireDefault(c),a=require("bundles/peer/utils/initializeBackboneReviews"),u=_interopRequireDefault(a),o=require("pages/open-course/peerReview/reviewTypes/factories/schemaFactory"),l=_interopRequireDefault(o),t={backboneReviewSchema:null,review:null,reviews:null,backboneReviews:[],submitState:"notSubmitted",errorType:null,reviewValidationErrors:null};module.exports=reviewSubmissionReducer});
define("bundles/peer/reducers/PeerViewSubmissionReducer",["require","exports","module","underscore","js/lib/create-store-from-reducer","bundles/peer/actions/constants","bundles/peer/utils/convertLegacyPeerToNaptime","bundles/peer/reducers/ReviewSubmissionReducer"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var s=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},u=require("underscore"),r=_interopRequireDefault(u),a=require("js/lib/create-store-from-reducer"),S=_interopRequireDefault(a),e=require("bundles/peer/actions/constants"),n=require("bundles/peer/utils/convertLegacyPeerToNaptime"),I=require("bundles/peer/reducers/ReviewSubmissionReducer"),t=_interopRequireDefault(I),i={submissionId:void 0,loadState:"none",submissionAndRelated:void 0,naptimeSubmission:void 0,naptimeSubmissionSchema:void 0,reviewSubmissionState:void 0,flaggedPreviousSubmission:!1,flagSubmissionState:"none",flagSubmissionError:null,isOwnSubmission:void 0,hydrationData:void 0},o=function peerViewSubmissionReducer(t){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments[1];switch(a.type){case e.ActionNames.PEER_VIEW_SUBMISSION_LOAD_RESET:return i;case e.ActionNames.PEER_VIEW_SUBMISSION_LOADING:return s({},i,{flaggedPreviousSubmission:o.flaggedPreviousSubmission,submissionId:a.submissionId,loadState:"loading"});case e.ActionNames.PEER_VIEW_SUBMISSION_LOADED:return a.submissionId===o.submissionId&&"loading"===o.loadState?s({},o,{loadState:"loaded",submissionAndRelated:a.submissionAndRelated,naptimeSubmission:n.convertSubmission(a.submissionAndRelated.submission),naptimeSubmissionSchema:n.convertSubmissionSchema(a.submissionAndRelated.submissionSchema),reviewSubmissionState:t(void 0,{type:e.ActionNames.REVIEW_SUBMISSION_INITIALIZE,reviewSchema:a.submissionAndRelated.reviewSchema,reviewsResponse:a.reviewsResponse,viewerId:a.viewerId,votes:a.submissionAndRelated.votes}),hydrationData:{reviewsResponse:a.reviewsResponse,viewerId:a.viewerId},isOwnSubmission:a.viewerId===a.submissionAndRelated.submission.creatorId}):o;case e.ActionNames.PEER_VIEW_SUBMISSION_LOAD_ERROR:return a.submissionId===o.submissionId&&"loading"===o.loadState?s({},o,{loadState:"loadError"}):o;case e.ActionNames.PEER_VIEW_SUBMISSION_FLAGGING:return s({},o,{flagSubmissionState:"flagging",flagSubmissionError:void 0});case e.ActionNames.PEER_VIEW_SUBMISSION_FLAGGED:return s({},o,{flagSubmissionState:"flagged",flaggedPreviousSubmission:!0});case e.ActionNames.PEER_VIEW_SUBMISSION_FLAG_ERROR:return s({},o,{flagSubmissionState:"flagError",flagSubmissionError:a.flagSubmissionError});case e.ActionNames.PEER_VIEW_SUBMISSION_LOCAL_LIKE_SUBMISSION:if(null==o.submissionAndRelated)return o;var S=o.submissionAndRelated;return s({},o,{submissionAndRelated:Object.assign({},S,{votes:{isUpvotedByUser:!S.votes.isUpvotedByUser,upVotes:S.votes.upVotes+1}})});case e.ActionNames.PEER_VIEW_SUBMISSION_LOCAL_UNDO_LIKE_SUBMISSION:if(null==o.submissionAndRelated)return o;var r=o.submissionAndRelated;return s({},o,{submissionAndRelated:Object.assign({},r,{votes:{isUpvotedByUser:!r.votes.isUpvotedByUser,upVotes:r.votes.upVotes-1}})});case e.ActionNames.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW:case e.ActionNames.REVIEW_SUBMISSION_SUBMITTING:case e.ActionNames.REVIEW_SUBMISSION_SUBMIT_ERROR:case e.ActionNames.REVIEW_SUBMISSION_SUBMITTED:if(a.submissionId===o.submissionId&&"loaded"===o.loadState&&o.reviewSubmissionState){var I=o.flaggedPreviousSubmission;return a.type===e.ActionNames.REVIEW_SUBMISSION_SUBMITTING&&(I=!1),s({},o,{flaggedPreviousSubmission:I,reviewSubmissionState:t(o.reviewSubmissionState,a)})}return o;default:return o}}};exports.store=S["default"](o(t["default"]),"PeerViewSubmissionStore",[e.ActionNames.PEER_VIEW_SUBMISSION_LOAD_RESET,e.ActionNames.PEER_VIEW_SUBMISSION_LOADING,e.ActionNames.PEER_VIEW_SUBMISSION_LOADED,e.ActionNames.PEER_VIEW_SUBMISSION_LOAD_ERROR,e.ActionNames.PEER_VIEW_SUBMISSION_LOCAL_LIKE_SUBMISSION,e.ActionNames.PEER_VIEW_SUBMISSION_LOCAL_UNDO_LIKE_SUBMISSION,e.ActionNames.PEER_VIEW_SUBMISSION_FLAGGING,e.ActionNames.PEER_VIEW_SUBMISSION_FLAGGED,e.ActionNames.PEER_VIEW_SUBMISSION_FLAG_ERROR,e.ActionNames.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW,e.ActionNames.REVIEW_SUBMISSION_SUBMITTING,e.ActionNames.REVIEW_SUBMISSION_SUBMIT_ERROR,e.ActionNames.REVIEW_SUBMISSION_SUBMITTED],i,{dehydrate:function dehydrate(){var e=Object.assign({},this.getState());return r["default"].omit(e,"reviewSubmissionState")},rehydrate:function rehydrate(i){var n=s({},i,{reviewSubmissionState:i.hydrationData&&t["default"](void 0,{type:e.ActionNames.REVIEW_SUBMISSION_INITIALIZE,reviewSchema:i.submissionAndRelated&&i.submissionAndRelated.reviewSchema,reviewsResponse:i.hydrationData&&i.hydrationData.reviewsResponse,viewerId:i.hydrationData&&i.hydrationData.viewerId,votes:i.submissionAndRelated&&i.submissionAndRelated.votes})});this.state=n}}),exports.reducer=o});
define("bundles/peer/app",["require","exports","module","bundles/ssr/stores/ApplicationStore","bundles/naptimejs/stores/NaptimeStore","bundles/peer/reducers/PeerAssignmentReducer","bundles/peer/reducers/DisplayablePhaseScheduleReducer","bundles/peer/reducers/PeerSubmissionDraftReducer","bundles/peer/reducers/PeerReviewQueueReducer","bundles/peer/reducers/PeerSubmissionAppStateReducer","bundles/peer/reducers/PeerPermissionsAndProgressesReducer","bundles/peer/reducers/PeerViewSubmissionReducer","js/lib/setupFluxibleApp"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var i=require("bundles/ssr/stores/ApplicationStore"),r=_interopRequireDefault(i),s=require("bundles/naptimejs/stores/NaptimeStore"),u=_interopRequireDefault(s),t=require("bundles/peer/reducers/PeerAssignmentReducer"),d=require("bundles/peer/reducers/DisplayablePhaseScheduleReducer"),b=require("bundles/peer/reducers/PeerSubmissionDraftReducer"),n=require("bundles/peer/reducers/PeerReviewQueueReducer"),o=require("bundles/peer/reducers/PeerSubmissionAppStateReducer"),l=require("bundles/peer/reducers/PeerPermissionsAndProgressesReducer"),p=require("bundles/peer/reducers/PeerViewSubmissionReducer"),c=require("js/lib/setupFluxibleApp"),e=_interopRequireDefault(c);module.exports=function(s){return e["default"](s,function(e){return e.registerStore(r["default"]),e.registerStore(u["default"]),e.registerStore(t.store),e.registerStore(d.store),e.registerStore(b.store),e.registerStore(n.store),e.registerStore(o.store),e.registerStore(l.store),e.registerStore(p.store),s})}});
define("bundles/requirejs/identity",["require","exports","module"],function(require,exports,module){module.exports=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t}});
define("nls/peer-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/peer-common/components/__styles__/RubricPreviewLink',[],function(){})
define("bundles/peer-common/components/RubricPreviewLink",["require","exports","module","react","naptime","bundles/page/components/TrackedLink2","bundles/peer-common/components/PeerReviewAdminPermissionChecker","bundles/peer-admin/constants/constants","bundles/naptimejs/resources/privilegedAuths.v1","js/lib/path","i18n!nls/peer","css!./__styles__/RubricPreviewLink"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,i){for(var s=Object.getOwnPropertyNames(i),r=0;r<s.length;r++){var t=s[r],n=Object.getOwnPropertyDescriptor(i,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,s=require("react"),e=_interopRequireDefault(s),o=require("naptime"),u=_interopRequireDefault(o),v=require("bundles/page/components/TrackedLink2"),a=require("bundles/peer-common/components/PeerReviewAdminPermissionChecker"),c=_interopRequireDefault(a),p=require("bundles/peer-admin/constants/constants"),l=require("bundles/naptimejs/resources/privilegedAuths.v1"),n=_interopRequireDefault(l),d=require("js/lib/path"),f=_interopRequireDefault(d),m=require("i18n!nls/peer"),i=_interopRequireDefault(m);require("css!./__styles__/RubricPreviewLink");var b=(t=r=function(r){function RubricPreviewLink(){return _classCallCheck(this,RubricPreviewLink),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(RubricPreviewLink,r),RubricPreviewLink.prototype.render=function render(){var r=this.props.itemLink,t=f["default"].join(r,"rubric-preview"),n=this.props.privilegedAuths&&!!this.props.privilegedAuths[0]&&!!this.props.privilegedAuths[0].outsourcingPermissions;return e["default"].createElement("div",{className:"rc-RubricPreviewLink"},e["default"].createElement(c["default"],{requestedCapability:p.PeerAdminCapabilities.previewRubric},e["default"].createElement(v.TrackedReactLink,{href:t,trackingName:"preview_rubric"},n?i["default"]("(Admin-Only Link, visible while impersonating) Preview Rubric"):i["default"]("(Admin-Only Link) Preview Rubric"))))},RubricPreviewLink}(e["default"].Component),r.propTypes={privilegedAuths:e["default"].PropTypes.arrayOf(e["default"].PropTypes.instanceOf(n["default"])),itemLink:e["default"].PropTypes.string.isRequired},t);module.exports=u["default"].createContainer(function(e){return{privilegedAuths:n["default"].finder("me",{fields:["outsourcingPermissions"],required:!1})}})(b)});
define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});

define("nls/scribe-plugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ui",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/author-code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/asset-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/scribe-plugins/styles/scribe-image-upload-command',[],function(){})
define("nls/cml",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/content-feedback",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});




define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/item",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/phoenix/propTypes/TabbedItemLayoutNavLink",["require","exports","module","react"],function(require,exports,module){var t=require("react"),e=t.PropTypes;module.exports=e.shape({url:e.string,title:e.string,event:e.string,splitViewMode:e.string})});

define('css!bundles/phoenix/components/__styles__/TabbedItemLayout',[],function(){})
define("bundles/phoenix/components/TabbedItemLayout",["require","exports","module","classnames","react","react-router","underscore","bundles/page/components/TrackedLink2","bundles/phoenix/propTypes/TabbedItemLayoutNavLink","js/lib/path","css!./__styles__/TabbedItemLayout"],function(require,exports,module){function _defaults(e,a){for(var o=Object.getOwnPropertyNames(a),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(a,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,n=require("classnames"),e=require("react"),o=require("react-router"),s=o.Link,_=require("underscore"),i=require("bundles/page/components/TrackedLink2"),c=i.TrackedReactLink,a=require("bundles/phoenix/propTypes/TabbedItemLayoutNavLink"),p=require("js/lib/path");require("css!./__styles__/TabbedItemLayout");var u=(r=t=function(t){function TabbedItemLayout(){var o,r,i;_classCallCheck(this,TabbedItemLayout);for(var p=arguments.length,u=Array(p),a=0;p>a;a++)u[a]=arguments[a];return o=r=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(u))),r.renderNavLink=function(o,t){var i=r.context.router,a=n("colored-tab",{selected:_.intersection(t.routeNames,i.routes.map(function(e){return e.name})).length>0,right:o}),p=t.routeNames&&t.routeNames.length?t.routeNames[0]:t.url;return e.createElement("li",{key:p,className:a,"data-subview":t.subview},null!=t.event&&e.createElement(c,{href:r.getLinkHref(t),className:a,trackingName:t.event},t.title),null==t.event&&e.createElement(s,{href:r.getLinkHref(t),className:a},t.title))},i=o,_possibleConstructorReturn(r,i)}return _inherits(TabbedItemLayout,t),TabbedItemLayout.prototype.getLinkHref=function getLinkHref(e){var t=this.props.itemMetadata;return p.join(t.getLink(),e.url)},TabbedItemLayout.prototype.render=function render(){var t=this,r=this.props,a=r.leftNavLinks,o=r.rightNavLinks,s=n("rc-TabbedItemLayout",this.props.className,"styleguide"),i=a.length+o.length>1;return e.createElement("div",{className:s,"data-js":this.props.dataJs},e.createElement("div",{className:"body"},i&&e.createElement("ol",{className:"tabs tabs-divider"},a.map(function(e){return t.renderNavLink(!1,e)}),o.map(function(e){return t.renderNavLink(!0,e)})),e.createElement("div",{"data-js":"body-container"},this.props.children)))},TabbedItemLayout}(e.Component),t.propTypes={itemMetadata:e.PropTypes.object.isRequired,className:e.PropTypes.string,leftNavLinks:e.PropTypes.arrayOf(a),rightNavLinks:e.PropTypes.arrayOf(a),children:e.PropTypes.node,dataJs:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object.isRequired},r);module.exports=u});
define("pages/open-course/common/views/nls/helpwidget",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/page/lib/nls/metatagsAddressBook",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/seo",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});



define("nls/course-info",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/peer-common/components/__styles__/PeerReviewInformation',[],function(){})
define("bundles/peer-common/components/PeerReviewInformation",["require","exports","module","underscore","react","i18n!nls/peer","bundles/phoenix/lib/waitForStores","bundles/ui/components/AlertBanner","bundles/peer-common/components/AssignmentInformationModal","bundles/page/components/TrackedButton","js/lib/deferToClientSideRender","css!./__styles__/PeerReviewInformation"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,n,u=require("underscore"),s=require("react"),e=_interopRequireDefault(s),a=require("i18n!nls/peer"),t=_interopRequireDefault(a),i=require("bundles/phoenix/lib/waitForStores"),l=_interopRequireDefault(i),r=require("bundles/ui/components/AlertBanner"),c=_interopRequireDefault(r),d=require("bundles/peer-common/components/AssignmentInformationModal"),f=_interopRequireDefault(d),p=require("bundles/page/components/TrackedButton"),m=_interopRequireDefault(p),b=require("js/lib/deferToClientSideRender"),h=_interopRequireDefault(b);require("css!./__styles__/PeerReviewInformation");var w=(n=o=function(n){function PeerReviewInformation(){var o,e,r;_classCallCheck(this,PeerReviewInformation);for(var s=arguments.length,a=Array(s),t=0;s>t;t++)a[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={showModal:!1},e.openModal=function(){e.setState({showModal:!0})},e.closeModal=function(){e.setState({showModal:!1})},r=o,_possibleConstructorReturn(e,r)}return _inherits(PeerReviewInformation,n),PeerReviewInformation.prototype.render=function render(){if(this.props.isFirstPeerReview)return e["default"].createElement("div",{className:"rc-PeerReviewInformation"},e["default"].createElement(c["default"],{localStoreName:"seen-peer-"+this.props.itemMetadata.get("course").get("slug")},t["default"]("It looks like this is your first peer-graded assignment.")," "," ",e["default"].createElement(m["default"],{trackingName:"show_peer_information",className:"button-link",onClick:this.openModal},t["default"]("Learn more"))),this.state.showModal&&e["default"].createElement(f["default"],{isPeerReview:!0,handleClose:this.closeModal}));return null},PeerReviewInformation}(e["default"].Component),o.propTypes={isFirstPeerReview:e["default"].PropTypes.bool,itemMetadata:e["default"].PropTypes.object},n);module.exports=u.compose(h["default"](),l["default"](["CourseStore"],function(e,t){var n=e.CourseStore;return{isFirstPeerReview:n.isFirstPeerReview(t.itemMetadata.get("id"))}}))(w)});
define("bundles/peer-common/components/ItemPageTitle",["require","exports","module","react","i18n!nls/peer"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,t,n=require("react"),e=_interopRequireDefault(n),o=require("i18n!nls/peer"),i=_interopRequireDefault(o),c=(t=r=function(t){function ItemPageTitle(){return _classCallCheck(this,ItemPageTitle),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(ItemPageTitle,t),ItemPageTitle.prototype.render=function render(){return e["default"].createElement("h2",{className:"c-peer-review-title horizontal-box align-items-vertical-center"},this.props.withCheck&&e["default"].createElement("div",{"aria-label":i["default"]("This part of the assignment is complete."),className:"cif-check-circle c-peer-review-title-check"}),this.props.children)},ItemPageTitle}(e["default"].Component),r.propTypes={children:e["default"].PropTypes.node.isRequired,withCheck:e["default"].PropTypes.bool.isRequired},t);module.exports=c});

define('css!bundles/peer-common/components/__styles__/AssignmentHeader',[],function(){})
define("bundles/peer-common/components/AssignmentHeader",["require","exports","module","react","bundles/peer-common/components/PeerReviewInformation","bundles/peer-common/components/ItemPageTitle","bundles/peer-common/models/PeerState","js/lib/mapProps","i18n!nls/peer","js/lib/coursera.react-intl","css!./__styles__/AssignmentHeader"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,o=require("react"),e=_interopRequireDefault(o),s=require("bundles/peer-common/components/PeerReviewInformation"),b=_interopRequireDefault(s),i=require("bundles/peer-common/components/ItemPageTitle"),a=_interopRequireDefault(i),l=require("bundles/peer-common/models/PeerState"),m=_interopRequireDefault(l),p=require("js/lib/mapProps"),c=_interopRequireDefault(p),u=require("i18n!nls/peer"),f=_interopRequireDefault(u),d=require("js/lib/coursera.react-intl");require("css!./__styles__/AssignmentHeader");var n=(r=t=function(t){function AssignmentHeader(){return _classCallCheck(this,AssignmentHeader),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(AssignmentHeader,t),AssignmentHeader.prototype.render=function render(){var t=this.props.itemMetadata;return e["default"].createElement("div",{className:"rc-AssignmentHeader header vertical-box"},e["default"].createElement("div",{className:"flex-1"},e["default"].createElement(a["default"],{withCheck:this.props.isComplete},e["default"].createElement(d.FormattedMessage,{message:f["default"]("{itemTitlePrefix}: {itemName}"),itemTitlePrefix:t.getTitlePrefix(),itemName:t.getName()}))),this.props.MetaInfoElement,e["default"].createElement(b["default"],{itemMetadata:t}))},AssignmentHeader}(e["default"].Component),t.propTypes={itemMetadata:e["default"].PropTypes.object.isRequired,itemProgress:e["default"].PropTypes.object.isRequired,MetaInfoElement:e["default"].PropTypes.element.isRequired,isComplete:e["default"].PropTypes.bool.isRequired},r);module.exports=c["default"](function(n){var e=n.itemMetadata,o=n.itemProgress,r=new m["default"](e,o),t=!1;return e.isMentorGraded()?t=!1:e.isReviewPartForSplitPeer()?t=r.isReviewingComplete():e.isAssignmentPartForSplitPeer()?t=r.isPassed():e.isPeerReview()&&(t=r.isReviewingComplete()),{isComplete:t}})(n)});

define('css!bundles/peer-common/components/__styles__/Assignment',[],function(){})
define("bundles/peer-common/components/Assignment",["require","exports","module","react","underscore","bundles/item/constants/ItemTypes","bundles/item/components/LightItemLayout","bundles/item/components/LockingCover","bundles/phoenix/components/TabbedItemLayout","pages/open-course/common/views/helpwidget","bundles/phoenix/components/OrigamiRegion","bundles/seo/components/CourseraMetatags","bundles/peer-common/components/AssignmentHeader","js/lib/mapProps","css!./__styles__/Assignment"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,s=require("react"),e=_interopRequireDefault(s),i=require("underscore"),t=_interopRequireDefault(i),a=require("bundles/item/constants/ItemTypes"),u=_interopRequireDefault(a),p=require("bundles/item/components/LightItemLayout"),d=_interopRequireDefault(p),P=require("bundles/item/components/LockingCover"),l=_interopRequireDefault(P),c=require("bundles/phoenix/components/TabbedItemLayout"),f=_interopRequireDefault(c),m=require("pages/open-course/common/views/helpwidget"),g=_interopRequireDefault(m),h=require("bundles/phoenix/components/OrigamiRegion"),b=_interopRequireDefault(h),y=require("bundles/seo/components/CourseraMetatags"),L=_interopRequireDefault(y),v=require("bundles/peer-common/components/AssignmentHeader"),k=_interopRequireDefault(v),T=require("js/lib/mapProps"),w=_interopRequireDefault(T);require("css!./__styles__/Assignment");var r=(o=n=function(n){function Assignment(){var r,e,s;_classCallCheck(this,Assignment);for(var i=arguments.length,a=Array(i),o=0;i>o;o++)a[o]=arguments[o];return r=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.getLeftNavLinks=function(){return t["default"](e.props.unfilteredLeftNavLinkConfigs).filter(e.shouldShowLink)},e.getRightNavLinks=function(){return t["default"](e.props.unfilteredRightNavLinkConfigs).filter(e.shouldShowLink)},e.shouldShowLink=function(n){var t=e.props.itemMetadata;return"phasedPeer"===t.getTypeName()||"splitPeerReviewItem"===t.getTypeName()?n.splitViewMode===(e.getActiveLink()&&e.getActiveLink().splitViewMode):!0},s=r,_possibleConstructorReturn(e,s)}return _inherits(Assignment,n),Assignment.prototype.getActiveLink=function getActiveLink(){var e=this.context.router;return t["default"]([]).chain().union(this.props.unfilteredLeftNavLinkConfigs).union(this.props.unfilteredRightNavLinkConfigs).find(function(n){return t["default"].intersection(n.routeNames,e.routes.map(function(e){return e.name})).length>0}).value()},Assignment.prototype.renderLockingCover=function renderLockingCover(){var t=this.props.itemMetadata;return e["default"].createElement(l["default"],{itemMetadata:t})},Assignment.prototype.renderTabs=function renderTabs(){var t=this.props.itemMetadata;return e["default"].createElement(f["default"],{itemMetadata:t,leftNavLinks:this.getLeftNavLinks(),rightNavLinks:this.getRightNavLinks(),dataJs:"TabbedItemLayout"},this.props.children)},Assignment.prototype.render=function render(){var n=this.props,t=n.itemMetadata,o=n.itemProgress;return e["default"].createElement("div",{className:"rc-Assignment body-1-text"},e["default"].createElement(L["default"],{title:t.getName()+" | Coursera",description:t.get("lesson.module.description"),pageHref:this.context.router.location.pathname+this.context.router.location.search}),e["default"].createElement(d["default"],{itemMetadata:t,itemType:u["default"].Peer,feedbackFixedAtBottom:!1,isCard:!1,hasCardContainer:!0,wide:!0},e["default"].createElement(k["default"],{itemMetadata:t,itemProgress:o,submissionMode:!0,MetaInfoElement:this.props.MetaInfoElement}),this.props.isItemLocked?this.renderLockingCover():this.renderTabs()),e["default"].createElement(b["default"],{ViewClass:g["default"]}))},Assignment}(e["default"].Component),n.propTypes={itemMetadata:e["default"].PropTypes.object.isRequired,itemProgress:e["default"].PropTypes.object.isRequired,unfilteredLeftNavLinkConfigs:e["default"].PropTypes.array,unfilteredRightNavLinkConfigs:e["default"].PropTypes.array,children:e["default"].PropTypes.node,isItemLocked:e["default"].PropTypes.bool,MetaInfoElement:e["default"].PropTypes.element.isRequired},n.contextTypes={router:e["default"].PropTypes.object.isRequired},o);module.exports=t["default"].compose(w["default"](function(t){var e=t.itemMetadata;return{isItemLocked:e.isLockedForSessions()||e.isLockedFully()}}))(r)});

define('css!bundles/peer-common/components/__styles__/MessageAndButton',[],function(){})
define("bundles/peer-common/components/MessageAndButton",["require","exports","module","react","css!./__styles__/MessageAndButton"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,r=require("react"),e=_interopRequireDefault(r);require("css!./__styles__/MessageAndButton");var o=(n=t=function(t){function MessageAndButton(){return _classCallCheck(this,MessageAndButton),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(MessageAndButton,t),MessageAndButton.prototype.render=function render(){return e["default"].createElement("div",{className:"rc-MessageAndButton horizontal-box align-items-vertical-center"},e["default"].createElement("div",{className:"flex-1"},this.props.children),e["default"].createElement("div",{className:"button-container"},this.props.button))},MessageAndButton}(e["default"].Component),t.propTypes={button:e["default"].PropTypes.node.isRequired,children:e["default"].PropTypes.node.isRequired},n);module.exports=o});

define('css!bundles/peer-common/components/__styles__/MessageCard',[],function(){})
define("bundles/peer-common/components/MessageCard",["require","exports","module","react","css!./__styles__/MessageCard"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,n=require("react"),e=_interopRequireDefault(n);require("css!./__styles__/MessageCard");var o=(r=t=function(t){function MessageCard(){return _classCallCheck(this,MessageCard),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(MessageCard,t),MessageCard.prototype.render=function render(){return e["default"].createElement("div",{className:"rc-MessageCard"},this.props.children)},MessageCard}(e["default"].Component),t.propTypes={children:e["default"].PropTypes.node.isRequired},r);module.exports=o});

define('css!bundles/ondemand/components/sessions/__styles__/SessionSwitchModal',[],function(){})
define("bundles/ondemand/components/SessionSwitchButton",["require","exports","module","underscore","react","bundles/ondemand/components/sessions/SessionSwitchModal","bundles/ondemand/actions/SessionActions","pages/open-course/common/constants","i18n!nls/ondemand","bundles/page/components/TrackedButton","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),o=0;o<r.length;o++){var n=r[o],s=Object.getOwnPropertyDescriptor(t,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var o,n,a=require("underscore"),r=a.compose,e=require("react"),i=require("bundles/ondemand/components/sessions/SessionSwitchModal"),c=require("bundles/ondemand/actions/SessionActions"),t=c.updateEnrollableAndFollowingSessions,d=require("pages/open-course/common/constants"),p=require("i18n!nls/ondemand"),u=require("bundles/page/components/TrackedButton"),l=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),s=(n=o=function(o){function SessionSwitchButton(){var s,e,t;_classCallCheck(this,SessionSwitchButton);for(var r=arguments.length,i=Array(r),n=0;r>n;n++)i[n]=arguments[n];return s=e=_possibleConstructorReturn(this,o.call.apply(o,[this].concat(i))),e.state={showModal:!1},e.handleClose=function(){e.setState({showModal:!1})},e.showModal=function(){e.setState({showModal:!0})},t=s,_possibleConstructorReturn(e,t)}return _inherits(SessionSwitchButton,o),SessionSwitchButton.prototype.componentDidMount=function componentDidMount(){this.props.enrollableSession||this.context.executeAction(t,{courseId:this.props.courseId,sessionId:this.props.sessionId})},SessionSwitchButton.prototype.render=function render(){var o=this.props.enrollableSession;if(!o)return null;return e.createElement("div",{className:"rc-SessionSwitchButton"},e.createElement(u,{trackingName:"session_switch_button",data:{onDemandSessionId:this.props.sessionId},className:"primary",onClick:this.showModal},p("Switch sessions")),this.state.showModal&&e.createElement(i,{onClose:this.handleClose,courseId:this.props.courseId}))},SessionSwitchButton}(e.Component),o.propTypes={followingSession:e.PropTypes.object,enrollableSession:e.PropTypes.object,sessionId:e.PropTypes.string,courseId:e.PropTypes.string},o.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=s,module.exports=r(l(["CourseStore","SessionStore"],function(o){var n=o.CourseStore,e=o.SessionStore;return{followingSession:e.getFollowingSession(),enrollableSession:e.getEnrollableSession(),sessionId:e.getSessionId(),courseId:n.getCourseId()}}))(s)});
define("bundles/peer-common/components/PlagiarismMessage",["require","exports","module","react","js/lib/coursera.react-intl","i18n!nls/peer"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,a){for(var o=Object.getOwnPropertyNames(a),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(a,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o=require("react"),e=_interopRequireDefault(o),r=require("js/lib/coursera.react-intl"),a=require("i18n!nls/peer"),t=_interopRequireDefault(a),n=function(n){function PlagiarismMessage(){return _classCallCheck(this,PlagiarismMessage),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(PlagiarismMessage,n),PlagiarismMessage.prototype.render=function render(){return e["default"].createElement("div",null,e["default"].createElement("p",null,e["default"].createElement(r.FormattedMessage,{message:t["default"]("Plagiarism is unacceptable in any academic environment and is a serious violation\n              of Coursera's Honor Code. We have removed any credit toward your course grade that you may\n              have received for this assignment, and your grade has been permanently overridden to zero.")})),e["default"].createElement("p",null,e["default"].createElement(r.FormattedMessage,{message:t["default"]("Our learners come from many different academic backgrounds, and many are unfamiliar\n              with the academic standard for plagiarism. We fully understand that this violation of our\n              policies may have been a simple mistake. If this is the case, we ask that you review\n              {guidelines}, and follow them when submitting future assignments. Failure to do so may\n              result in more serious consequences, including removal from a course or from the Coursera\n              community."),guidelines:e["default"].createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://learner.coursera.help/hc/en-us/articles/209818863-Coursera-Honor-Code"},t["default"]("these guidelines"))})))},PlagiarismMessage}(e["default"].Component);module.exports=n});
define("pages/open-course/peerReview/components/ItemOutcomeOverrideStatusMessage",["require","exports","module","react","bundles/peer-common/components/MessageCard","js/lib/coursera.react-intl","i18n!nls/peer","bundles/peer-common/components/PlagiarismMessage"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,e=require("react"),o=require("bundles/peer-common/components/MessageCard"),s=require("js/lib/coursera.react-intl"),c=s.FormattedMessage,t=require("i18n!nls/peer"),a=require("bundles/peer-common/components/PlagiarismMessage"),i=(n=r=function(r){function ItemOutcomeOverrideStatusMessage(){return _classCallCheck(this,ItemOutcomeOverrideStatusMessage),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ItemOutcomeOverrideStatusMessage,r),ItemOutcomeOverrideStatusMessage.prototype.render=function render(){var r=this.props.itemOutcomeOverride,s=t(r.isPassed?"passed":"did not pass"),n=r.explanation?r.explanation:"Unknown";return e.createElement("div",{className:"rc-ItemOutcomeOverrideStatusMessage"},e.createElement(o,null,e.createElement("strong",null,t("An administrator has changed your grade for this assignment.")),e.createElement("div",null,e.createElement("p",null,t("Your new grade is:")," ",100*r.grade,"%,"," ",t("and you")," ",s,"."),!("Plagiarism"===n)&&e.createElement("p",null,t("The administrator's reason for changing your grade is:")," ",n)),"Plagiarism"===n&&e.createElement(a,null)))},ItemOutcomeOverrideStatusMessage}(e.Component),r.propTypes={itemOutcomeOverride:e.PropTypes.object},n);module.exports=i});
define("pages/open-course/peerReview/components/AdministratorDeletedSubmissionStatusMessage",["require","exports","module","react","bundles/peer-common/components/MessageCard","i18n!nls/peer"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var e=require("react"),t=require("bundles/peer-common/components/MessageCard"),n=require("i18n!nls/peer"),r=function(r){function AdministratorDeletedSubmissionStatusMessage(){return _classCallCheck(this,AdministratorDeletedSubmissionStatusMessage),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(AdministratorDeletedSubmissionStatusMessage,r),AdministratorDeletedSubmissionStatusMessage.prototype.render=function render(){return e.createElement("div",{className:"rc-SubmissionDeletionStatusMessage"},e.createElement(t,null,e.createElement("strong",null,n("An administrator has deleted your submission."))))},AdministratorDeletedSubmissionStatusMessage}(e.Component);module.exports=r});
define("bundles/ondemand/constants/PeerReview",["require","exports","module"],function(require,exports,module){module.exports={PEER_REVIEW_SUGGEST_NEXT_SESSION_AFTER_DAYS:7}});

define('css!bundles/peer-common/components/__styles__/SubmissionModeMetaInfo',[],function(){})
define("bundles/peer-common/components/SubmissionModeMetaInfo",["require","exports","module","underscore","classnames","moment","react","bundles/ondemand/utils/deadlineFormatter","bundles/peer-common/components/MessageAndButton","bundles/peer-common/components/MessageCard","bundles/peer-common/models/PeerState","bundles/ondemand/components/SessionSwitchButton","bundles/iconfont/Icon","js/lib/coursera.react-intl","js/lib/path","i18n!nls/peer","pages/open-course/peerReview/components/ItemOutcomeOverrideStatusMessage","pages/open-course/peerReview/components/AdministratorDeletedSubmissionStatusMessage","bundles/ondemand/actions/SessionActions","bundles/ondemand/constants/PeerReview","js/lib/mapExecuteActionToProps","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/mapProps","css!./__styles__/SubmissionModeMetaInfo"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,n){for(var o=Object.getOwnPropertyNames(n),t=0;t<o.length;t++){var s=o[t],a=Object.getOwnPropertyDescriptor(n,s);a&&a.configurable&&void 0===e[s]&&Object.defineProperty(e,s,a)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var p=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},u,c,S=require("underscore"),E=require("classnames"),P=_interopRequireDefault(E),T=require("moment"),o=_interopRequireDefault(T),N=require("react"),e=_interopRequireDefault(N),f=require("bundles/ondemand/utils/deadlineFormatter"),r=_interopRequireDefault(f),b=require("bundles/peer-common/components/MessageAndButton"),a=_interopRequireDefault(b),v=require("bundles/peer-common/components/MessageCard"),s=_interopRequireDefault(v),g=require("bundles/peer-common/models/PeerState"),j=_interopRequireDefault(g),y=require("bundles/ondemand/components/SessionSwitchButton"),d=_interopRequireDefault(y),w=require("bundles/iconfont/Icon"),i=_interopRequireDefault(w),n=require("js/lib/coursera.react-intl"),M=require("js/lib/path"),m=_interopRequireDefault(M),I=require("i18n!nls/peer"),t=_interopRequireDefault(I),R=require("pages/open-course/peerReview/components/ItemOutcomeOverrideStatusMessage"),F=_interopRequireDefault(R),D=require("pages/open-course/peerReview/components/AdministratorDeletedSubmissionStatusMessage"),x=_interopRequireDefault(D),A=require("bundles/ondemand/actions/SessionActions"),l=require("bundles/ondemand/constants/PeerReview"),k=require("js/lib/mapExecuteActionToProps"),C=_interopRequireDefault(k),Y=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),O=_interopRequireDefault(Y),W=require("js/lib/mapProps"),B=_interopRequireDefault(W);require("css!./__styles__/SubmissionModeMetaInfo");var h=(c=u=function(l){function SubmissionModeMetaInfo(){return _classCallCheck(this,SubmissionModeMetaInfo),_possibleConstructorReturn(this,l.apply(this,arguments))}return _inherits(SubmissionModeMetaInfo,l),SubmissionModeMetaInfo.prototype.componentDidMount=function componentDidMount(){this.props.enrollableSession||this.props.handleUpdateEnrollableAndFollowingSessions(this.props.courseId,this.props.sessionId)},SubmissionModeMetaInfo.prototype.renderStatusMessage=function renderStatusMessage(){return this.props.itemOutcomeOverrides[this.props.itemMetadata.getId()]||this.props.isDeletedByAdmin?this.renderStatusMessageForAdministrativeAction():this.props.sessionHasEnded?this.renderStatusMessageForSessionEnded():this.props.isEvaluated&&this.props.isPassed?this.renderStatusMessageForPassed():this.props.isSubmitted?this.renderStatusMessageForSubmitted():this.renderStatusMessageForNotSubmitted()},SubmissionModeMetaInfo.prototype.renderStatusMessageForSessionEnded=function renderStatusMessageForSessionEnded(){var o=this.props,a=o.isPassed,l=o.enrollableSession,u=o.evaluation,m=a?t["default"]("You passed!"):t["default"]("The session has ended."),r="";if(a){var c=u.score,f=u.maxScore;r=e["default"].createElement(n.FormattedMessage,{message:t["default"]("\n            Congratulations. You earned {score} / {maxScore} {score, plural, one{point} other{points}}.\n          "),score:c,maxScore:f})}else r=l?t["default"]("Switch sessions to submit this assignment and be reviewed by your classmates."):"Please check back for an upcoming session of the course to continue the assignment.";var p=!a&&l;return e["default"].createElement(s["default"],null,e["default"].createElement("div",{className:"horizontal-box"},e["default"].createElement("div",{className:"flex-1 horizontal-box"},!a&&e["default"].createElement(i["default"],{name:"warning",className:"cif-lg"}),e["default"].createElement("div",null,e["default"].createElement("div",{className:"body-2-text"},m),e["default"].createElement("div",{className:"body-1-text"},r))),p&&e["default"].createElement(d["default"],null)))},SubmissionModeMetaInfo.prototype.renderPostDeadlineWarningMessage=function renderPostDeadlineWarningMessage(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;return e["default"].createElement(s["default"],null,e["default"].createElement("div",{className:"horizontal-box"},e["default"].createElement("div",{className:"flex-1 horizontal-box"},e["default"].createElement(i["default"],{name:"warning",className:"cif-lg"}),e["default"].createElement("div",null,e["default"].createElement("div",{className:"body-2-text"},t),e["default"].createElement("div",{className:"body-1-text"},a))),n&&e["default"].createElement(d["default"],null)))},SubmissionModeMetaInfo.prototype.renderMentorGradedPostDeadlineMessage=function renderMentorGradedPostDeadlineMessage(){var e="",s="";if(!this.props.enrollableSession)return e=t["default"]("Mentor Graded Assignment - Submit Now"),s=t["default"]("It’s important to submit as soon as possible so your course mentor can grade your submission.\n        If you submit too late, there may not be enough time to grade your work before the session ends."),this.renderPostDeadlineWarningMessage(e,s,!1);if(this.props.isSessionPrivate)return e=t["default"]("Contact your session instructor or administrator"),s=t["default"]("Since it is past the submission deadline and you are currently\n        in a private session, your course mentor may not be able to grade your submission\n        before the session ends. Please contact your session instructor or administrator for assistance."),this.renderPostDeadlineWarningMessage(e,s,!1);return e=t["default"]("Switch Sessions"),s=t["default"]("Since it is past the submission deadline, your course mentor may not be able to grade your\n      submission before the session ends. Switch sessions to submit before the new deadline and receive a grade.\n      Don't worry, your progress will be saved!"),this.renderPostDeadlineWarningMessage(e,s,!0)},SubmissionModeMetaInfo.prototype.renderPeerGradedPostDeadlineMessage=function renderPeerGradedPostDeadlineMessage(){var s=t["default"]("Switch Sessions"),e="";if(this.props.isSessionPrivate)return s=t["default"]("Contact your session instructor or administrator"),e=t["default"]("Unfortunately, there are not any classmates around to\n        review your work. Since you are in a private session and it is past the submission deadline,\n        please contact your session instructor or administrator for assistance."),this.renderPostDeadlineWarningMessage(s,e,!1);if(!this.props.enrollableSession)return e=t["default"]("Unfortunately, there are not any classmates around to\n        review your work. This means you will not receive a grade if you submit.\n        Please check back for an upcoming session of the course to continue\n        with the assignment and get grades on time."),this.renderPostDeadlineWarningMessage(s,e,!1);return e=t["default"]("Unfortunately, there are not any classmates around to\n      review your work. This means you will not receive a grade if you submit.\n      Switch sessions to submit before the new deadline and receive reviews from classmates.\n      Don't worry, your progress will be saved!"),this.renderPostDeadlineWarningMessage(s,e,!0)},SubmissionModeMetaInfo.prototype.renderStatusMessageForNotSubmitted=function renderStatusMessageForNotSubmitted(){if(this.props.submissionDeadline){var a="",l="";if(this.props.isPeerInSessionSwitchStage&&this.props.itemMetadata.isMentorGraded())return this.renderMentorGradedPostDeadlineMessage();if(this.props.isPeerInSessionSwitchStage)return this.renderPeerGradedPostDeadlineMessage();if(this.props.isLateForSubmission&&this.props.itemMetadata.isMentorGraded())return a=t["default"]("Mentor Graded Assignment - Submit Now"),l=t["default"]("It’s important to submit as soon as possible so your course mentor can grade your submission.\n          If you submit too late, there may not be enough time to grade your work before the session ends."),this.renderPostDeadlineWarningMessage(a,l);if(this.props.isLateForSubmission)return a=t["default"]("Submit Now"),l=t["default"]("It’s important to submit as soon as possible so your peers can review your work.\n          If you submit too late, there will not be enough classmates around to review your work.\n          Submit soon!"),this.renderPostDeadlineWarningMessage(a,l);if(this.props.itemMetadata.isMentorGraded())return e["default"].createElement(s["default"],null,e["default"].createElement("div",{className:"flex-1 horizontal-box"},e["default"].createElement(i["default"],{name:"info",className:"cif-lg"}),e["default"].createElement("div",null,e["default"].createElement("div",{className:"body-2-text"},t["default"]("Mentor Graded Assignment")),e["default"].createElement("div",{className:"body-1-text"},e["default"].createElement(n.FormattedMessage,{message:t["default"]("This assignment will be graded by one of your course mentors. Please submit this\n                      assignment before the deadline, {submissionDeadline}, to ensure that your mentors have\n                      enough time to review your assignment. "),submissionDeadline:r["default"].getFormattedDeadline(o["default"](this.props.submissionDeadline))})))));return e["default"].createElement(s["default"],null,e["default"].createElement("div",{className:"body-2-text"},t["default"]("Important Information")),e["default"].createElement("div",{className:"body-1-text"},e["default"].createElement(n.FormattedMessage,{message:t["default"]("It is especially important to submit this assignment before the deadline,\n                {submissionDeadline}, because it must be graded by others. If you submit late, there may not be enough\n                classmates around to review your work. This makes it difficult - and in some cases,\n                impossible - to produce a grade. Submit on time to avoid these risks."),submissionDeadline:r["default"].getFormattedDeadline(o["default"](this.props.submissionDeadline))})))}return e["default"].createElement(s["default"],null,e["default"].createElement("div",{className:"body-2-text"},t["default"]("Ready for the assignment?")),e["default"].createElement("div",{className:"body-1-text"},t["default"]("You will find instructions below to submit.")))},SubmissionModeMetaInfo.prototype.renderDeadlinePill=function renderDeadlinePill(){var s=this.props,l=s.isOverdue,a=s.submissionDeadline;if(this.props.isSubmitted||!a)return!1;var i=r["default"].getFormattedDeadline(o["default"](a));return l?e["default"].createElement("div",{className:"deadline-pill pill-white"},e["default"].createElement(n.FormattedMessage,{message:t["default"]("Was due {deadline}"),deadline:i})):e["default"].createElement("div",{className:"deadline-pill pill-dark"},e["default"].createElement(n.FormattedMessage,{message:t["default"]("Submit by {deadline}"),deadline:i}))},SubmissionModeMetaInfo.prototype.renderMentorWillGradeMessage=function renderMentorWillGradeMessage(){return e["default"].createElement(s["default"],null,e["default"].createElement("div",{className:"flex-1 horizontal-box"},e["default"].createElement(i["default"],{name:"info",className:"cif-lg"}),e["default"].createElement("div",null,e["default"].createElement("strong",null,t["default"]("A course mentor will be grading your assignment soon")),e["default"].createElement("div",null,t["default"]("We'll email you when your grade is ready. You should expect to\n              receive your grade within 3 days of the submission deadline.")))))},SubmissionModeMetaInfo.prototype.renderReviewMoreClassmatesBeforeSeeingScore=function renderReviewMoreClassmatesBeforeSeeingScore(){return e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!0)},e["default"].createElement("strong",null,t["default"]("Review classmates to see your grade")),e["default"].createElement("div",null,t["default"]("\n            Your grade is ready, but you have not reviewed enough classmates yet. Review more classmates to see your\n            grade.\n          "))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForPassed=function renderStatusMessageForPassed(){var u=this.props,d=u.evaluation,r=u.isPassedInPreviousSession,c=u.isReviewingComplete,f=d.score,p=d.maxScore,i=this.props.itemMetadata.isMentorGraded(),o=void 0,m=t["default"]("You passed!"),l=this.renderReviewClassmatesButton(!1);return i&&r?o=t["default"]("You earned {score} / {maxScore} {score, plural, one{point} other{points}} in a previous\n        session of this course, so you do not need to resubmit."):i&&!r?o=t["default"]("Congratulations. You earned {score} / {maxScore} {score, plural, one{point} other{points}}.\n        View your feedback and rate it before continuing in the course."):i||!r||c?!i&&r?(o=t["default"]("You earned {score} / {maxScore} {score, plural, one{point} other{points}} in a previous session\n       of this course. If you'd like to review classmates in this session, resubmit your saved draft. Otherwise,\n       continue the course when you are ready."),l=this.renderResubmitToReviewButton()):i||r||(o=t["default"]("Congratulations. You earned {score} / {maxScore} {score, plural, one{point} other{points}}.\n      Review the feedback below and continue the course when you are ready. You can also help more classmates by\n      reviewing their submissions.")):(o=t["default"]("You earned {score} / {maxScore} {score, plural, one{point} other{points}} in a previous session\n       of this course. To complete the assignment, you must review more learners. Resubmit in order to unlock\n       the review portion of this assignment."),m=t["default"]("You passed! Resubmit your assignment to complete your reviews."),l=this.renderResubmitToReviewButton()),e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:l},e["default"].createElement("strong",null,m),e["default"].createElement("div",null,e["default"].createElement(n.FormattedMessage,{message:o,score:f,maxScore:p}))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForFailed=function renderStatusMessageForFailed(){var o=this.props.evaluation,r=o.score,i=o.maxScore,l=o.getMinimumPassingScore();return e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.props.submissionResubmitButton},e["default"].createElement("strong",null,t["default"]("Try again")),e["default"].createElement("div",null,e["default"].createElement(n.FormattedMessage,{message:t["default"]("\n                You earned {score} {score, plural, one{point} other{points}}, but you need to earn at least\n                {minimumPassingScore} / {maxScore} {minimumPassingScore, plural, one{point} other{points}} to pass.\n                Review your feedback below, improve your submission, and resubmit when you're ready.\n              "),score:r.toString(),maxScore:i,minimumPassingScore:l}))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForGradingInProgressAfterEvaluationAvailableTime=function renderStatusMessageForGradingInProgressAfterEvaluationAvailableTime(){return e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!0)},e["default"].createElement("strong",null,t["default"]("You submitted!")),e["default"].createElement("div",null,t["default"]("\n              Your grade should be available soon. In the meantime, we recommend reviewing a classmates' work.\n            "))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForGradingInProgressWithEvaluationAvailableTime=function renderStatusMessageForGradingInProgressWithEvaluationAvailableTime(){var i=this.props,l=i.evaluationAvailableTime,u=i.isReviewingComplete,d=r["default"].getFormattedDeadline(o["default"](l));return e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!0)},e["default"].createElement("strong",null,t["default"]("You submitted!")),e["default"].createElement("div",null,e["default"].createElement(n.FormattedMessage,{message:u?t["default"]("\n                   Your work is ready to be reviewed by classmates. You have reviewed enough classmates to receive a\n                   grade, but in the meantime, you may review more classmates.\n                   We'll email you when your grade is ready. Your grade should be ready by {evaluationAvailableTime}.\n                   "):t["default"]("\n                  Your work is ready to be reviewed by classmates. Next, you need to review your classmates' work. We'll\n                  email you when your grade is ready. Your grade should be ready by {evaluationAvailableTime}.\n                "),evaluationAvailableTime:e["default"].createElement("strong",null,d)}))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForGradingInProgressWithoutEvaluationAvailableTime=function renderStatusMessageForGradingInProgressWithoutEvaluationAvailableTime(){if(this.props.submissionDeadline){if(this.props.isPeerInSessionSwitchStage){var o=t["default"]("Switch Sessions"),i=t["default"]("Unfortunately, there are not enough classmates around to review your\n          submission because it was submitted late. Switch sessions to save your progress,\n          submit before the new deadline, and receive reviews from classmates.");return this.renderPostDeadlineWarningMessage(o,i,!0)}if(this.props.isLateForSubmission)return e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!0)},e["default"].createElement("div",{className:"body-2-text"},t["default"]("You Submitted")),e["default"].createElement("div",null,this.props.peerInSessionSwitchStageStartDate?e["default"].createElement(n.FormattedMessage,{message:t["default"]("We are attempting to produce a grade on your submission. Since you submitted\n                          after the deadline, there may not be enough classmates around to review your work.\n                          Please return after {switchSessionMessagingStartDate} if you have not received a grade."),switchSessionMessagingStartDate:r["default"].getFormattedDeadline(this.props.peerInSessionSwitchStageStartDate)}):t["default"]("We are attempting to produce a grade on your submission. Since you submitted\n                      after the deadline, there may not be enough classmates around to review your work."))))}var l=this.props.isReviewingComplete;return e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!0)},e["default"].createElement("div",{className:"body-2-text"},t["default"]("You Submitted")),e["default"].createElement("div",{className:"body-1-text"},l?t["default"]("\n                Your work is ready to be reviewed by classmates. You have reviewed enough classmates to receive a\n                grade, but in the meantime, you may review more classmates. We'll email you when your grade is ready.\n              "):t["default"]("\n                Your work is ready to be reviewed by classmates. Next, you need to review your classmates' work. We'll\n                email you when your grade is ready.\n              "))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForAdministrativeAction=function renderStatusMessageForAdministrativeAction(){var t=this.props.itemOutcomeOverrides[this.props.itemMetadata.getId()];return e["default"].createElement("div",null,this.props.isDeletedByAdmin&&e["default"].createElement(x["default"],null),!!t&&e["default"].createElement(F["default"],{itemOutcomeOverride:t}))},SubmissionModeMetaInfo.prototype.renderPlainSubmittedMessage=function renderPlainSubmittedMessage(){return this.props.isReviewingComplete?e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!1)},e["default"].createElement("div",{className:"body-2-text"},t["default"]("You Submitted")),e["default"].createElement("div",{className:"body-1-text"},t["default"]("\n                Your work is ready to be reviewed by classmates. We'll email you when you receive reviews. In the\n                meantime, you may review more classmates.\n              ")))):e["default"].createElement(s["default"],null,e["default"].createElement(a["default"],{button:this.renderReviewClassmatesButton(!0)},e["default"].createElement("div",{className:"body-2-text"},t["default"]("You Submitted")),e["default"].createElement("div",{className:"body-1-text"},t["default"]("\n                Your work is ready to be reviewed by classmates. We'll email you when you receive reviews. In the\n                meantime, you need to review your classmates' work.\n              "))))},SubmissionModeMetaInfo.prototype.renderReviewClassmatesButton=function renderReviewClassmatesButton(s){var a=P["default"]({"link-button":!0,primary:s,secondary:!s}),n=m["default"].join(this.props.itemMetadata.getBaseLink(),"give-feedback");if(this.props.itemMetadata.isMentorGraded())return null;return e["default"].createElement("a",{className:a,"data-js":"open-course-link",href:n},t["default"]("Review Classmates' Work"))},SubmissionModeMetaInfo.prototype.renderResubmitToReviewButton=function renderResubmitToReviewButton(){var s=m["default"].join(this.props.itemMetadata.getBaseLink(),"submit");return e["default"].createElement("a",{className:"link-button secondary","data-js":"open-course-link",href:s},t["default"]("Resubmit"))},SubmissionModeMetaInfo.prototype.renderStatusMessageForSubmitted=function renderStatusMessageForSubmitted(){var t=this.props,s=t.evaluationAvailableTime,a=t.evaluationShouldBeAvailable,e=t.isEvaluated,n=t.isFailed,o=this.props.isReviewingComplete,r="peer"===this.props.itemMetadata.getTypeName(),i=this.props.itemMetadata.isMentorGraded();if(r)return this.renderPlainSubmittedMessage();if(!e&&i)return this.renderMentorWillGradeMessage();if(e&&n)return this.renderStatusMessageForFailed();if(e&&!o)return this.renderReviewMoreClassmatesBeforeSeeingScore();if(!e&&a)return this.renderStatusMessageForGradingInProgressAfterEvaluationAvailableTime();if(!e&&s)return this.renderStatusMessageForGradingInProgressWithEvaluationAvailableTime();if(!e&&!s)return this.renderStatusMessageForGradingInProgressWithoutEvaluationAvailableTime();return void 0},SubmissionModeMetaInfo.prototype.render=function render(){return e["default"].createElement("div",{className:"rc-SubmissionModeMetaInfo"},this.renderDeadlinePill(),this.renderStatusMessage())},SubmissionModeMetaInfo}(e["default"].Component),u.propTypes={displayablePhaseSchedule:e["default"].PropTypes.object,itemMetadata:e["default"].PropTypes.object.isRequired,itemProgress:e["default"].PropTypes.object.isRequired,itemOutcomeOverrides:e["default"].PropTypes.object,isDeletedByAdmin:e["default"].PropTypes.bool,isSessionPrivate:e["default"].PropTypes.bool,sessionId:e["default"].PropTypes.string,courseId:e["default"].PropTypes.string,enrollableSession:e["default"].PropTypes.object,handleUpdateEnrollableAndFollowingSessions:e["default"].PropTypes.func,sessionHasEnded:e["default"].PropTypes.bool.isRequired,submissionResubmitButton:e["default"].PropTypes.element,isSubmitted:e["default"].PropTypes.bool.isRequired,isLate:e["default"].PropTypes.bool,isPeerInSessionSwitchStage:e["default"].PropTypes.bool,isLateForSubmission:e["default"].PropTypes.bool,peerInSessionSwitchStageStartDate:e["default"].PropTypes.object,submissionDeadline:e["default"].PropTypes.number,evaluation:e["default"].PropTypes.object,evaluationAvailableTime:e["default"].PropTypes.number,evaluationShouldBeAvailable:e["default"].PropTypes.bool,isEvaluated:e["default"].PropTypes.bool,isFailed:e["default"].PropTypes.bool,isOverdue:e["default"].PropTypes.bool,isPassed:e["default"].PropTypes.bool,isPassedInPreviousSession:e["default"].PropTypes.bool,isReviewingComplete:e["default"].PropTypes.bool},c);module.exports=S.compose(C["default"](function(e,t){return{handleUpdateEnrollableAndFollowingSessions:function handleUpdateEnrollableAndFollowingSessions(t,s){e(A.updateEnrollableAndFollowingSessions,{courseId:t,sessionId:s})}}}),O["default"](["CourseStore","SessionStore"],function(t){var s=t.CourseStore,e=t.SessionStore;return{enrollableSession:e.getEnrollableSession(),courseId:s.getCourseId(),sessionId:e.getSessionId(),isSessionPrivate:e.isSessionPrivate(),sessionHasEnded:e.hasEnded()}}),B["default"](function(s){var e=s.displayablePhaseSchedule,u=s.isSubmitted,r=s.isLate,d=s.itemMetadata,m=s.itemProgress,t=new j["default"](d,m),a=void 0,i=void 0;if(e){var n=o["default"].duration(o["default"]().diff(o["default"](e.phaseEnds.submit))).asDays();a={isPeerInSessionSwitchStage:n>l.PEER_REVIEW_SUGGEST_NEXT_SESSION_AFTER_DAYS,isLateForSubmission:n>0&&n<=l.PEER_REVIEW_SUGGEST_NEXT_SESSION_AFTER_DAYS,peerInSessionSwitchStageStartDate:o["default"](e.phaseEnds.submit).add(l.PEER_REVIEW_SUGGEST_NEXT_SESSION_AFTER_DAYS,"days")}}else a={isPeerInSessionSwitchStage:!1,isLateForSubmission:!1,peerInSessionSwitchStageStartDate:null};return i=u?{evaluation:t.getEvaluation(),evaluationAvailableTime:!r&&e&&e.phaseStarts.result,evaluationShouldBeAvailable:!r&&e&&"result"===e.currentPhase,isEvaluated:t.isEvaluated(),isFailed:t.isFailed(),isOverdue:null,isPassed:t.isPassed(),isReviewingComplete:t.isReviewingComplete()}:{evaluation:t.getEvaluation(),evaluationAvailableTime:null,evaluationShouldBeAvailable:null,isEvaluated:t.isEvaluated(),isFailed:null,isOverdue:e&&"submit"!==e.currentPhase,isPassed:t.isPassed(),isPassedInPreviousSession:!0,isReviewingComplete:t.isReviewingComplete()},p({submissionDeadline:e&&e.phaseEnds.submit},a,i)}))(h)});

define('css!bundles/peer-common/components/__styles__/ReviewModeMetaInfo',[],function(){})
define("bundles/peer-common/components/ReviewModeMetaInfo",["require","exports","module","moment","react","bundles/ondemand/utils/deadlineFormatter","bundles/peer-common/components/MessageCard","bundles/peer-common/models/PeerState","js/lib/mapProps","js/lib/coursera.react-intl","i18n!nls/peer","css!./__styles__/ReviewModeMetaInfo"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,a){for(var l=Object.getOwnPropertyNames(a),t=0;t<l.length;t++){var n=l[t],r=Object.getOwnPropertyDescriptor(a,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,a,l=require("moment"),o=_interopRequireDefault(l),i=require("react"),e=_interopRequireDefault(i),b=require("bundles/ondemand/utils/deadlineFormatter"),s=_interopRequireDefault(b),u=require("bundles/peer-common/components/MessageCard"),d=_interopRequireDefault(u),p=require("bundles/peer-common/models/PeerState"),m=_interopRequireDefault(p),c=require("js/lib/mapProps"),f=_interopRequireDefault(c),n=require("js/lib/coursera.react-intl"),v=require("i18n!nls/peer"),t=_interopRequireDefault(v);require("css!./__styles__/ReviewModeMetaInfo");var w=(a=r=function(r){function ReviewModeMetaInfo(){return _classCallCheck(this,ReviewModeMetaInfo),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ReviewModeMetaInfo,r),ReviewModeMetaInfo.prototype.renderDeadlinePill=function renderDeadlinePill(){var r=this.props,i=r.isOverdue,a=r.reviewDeadline;if(this.props.isReviewingComplete||!a)return!1;var l=s["default"].getFormattedDeadline(o["default"](a));return i?e["default"].createElement("div",{className:"deadline-pill pill-white"},e["default"].createElement(n.FormattedMessage,{message:t["default"]("Was due {deadline}"),deadline:l})):e["default"].createElement("div",{className:"deadline-pill pill-dark"},e["default"].createElement(n.FormattedMessage,{message:t["default"]("Review by {deadline}"),deadline:l}))},ReviewModeMetaInfo.prototype.renderStatusMessage=function renderStatusMessage(){return this.props.itemMetadata.isMentorGraded()?null:this.props.isReviewingComplete?this.renderStatusMessageForReviewingComplete():this.renderStatusMessageForReviewingNotComplete()},ReviewModeMetaInfo.prototype.renderStatusMessageForReviewingComplete=function renderStatusMessageForReviewingComplete(){var r=this.props.reviewCount;return e["default"].createElement("div",null,e["default"].createElement("table",{className:"review-count-table"},e["default"].createElement("tbody",null,e["default"].createElement("tr",null,e["default"].createElement("th",null,t["default"]("Reviews")),e["default"].createElement("td",null,e["default"].createElement(n.FormattedMessage,{message:t["default"]("{reviewCount} complete"),reviewCount:r.toString()}))))),e["default"].createElement(d["default"],null,e["default"].createElement("strong",null,t["default"]("Well done!")),e["default"].createElement("div",null,e["default"].createElement(n.FormattedMessage,{message:t["default"]("\n                You've sent {reviewCount, plural, one{# classmate} other{# classmates}} valuable feedback that will\n                help them improve. You can review another submission below or you can continue the course.\n              "),reviewCount:r.toString()}))))},ReviewModeMetaInfo.prototype.renderStatusMessageForReviewingNotComplete=function renderStatusMessageForReviewingNotComplete(){var r=this.props.remainingReviewCount;return e["default"].createElement("table",{className:"review-count-table"},e["default"].createElement("tbody",null,e["default"].createElement("tr",null,e["default"].createElement("th",null,t["default"]("Reviews")),e["default"].createElement("td",null,e["default"].createElement(n.FormattedMessage,{message:t["default"]("{remainingReviewCount} left to complete"),remainingReviewCount:r})))))},ReviewModeMetaInfo.prototype.render=function render(){return e["default"].createElement("div",{className:"rc-ReviewModeMetaInfo"},this.renderDeadlinePill(),this.renderStatusMessage())},ReviewModeMetaInfo}(e["default"].Component),r.propTypes={displayablePhaseSchedule:e["default"].PropTypes.object,itemMetadata:e["default"].PropTypes.object.isRequired,itemProgress:e["default"].PropTypes.object.isRequired,isReviewingComplete:e["default"].PropTypes.bool,remainingReviewCount:e["default"].PropTypes.number,reviewCount:e["default"].PropTypes.number,isOverdue:e["default"].PropTypes.bool,reviewDeadline:e["default"].PropTypes.number},a);module.exports=f["default"](function(n){var e=n.displayablePhaseSchedule,l=n.itemMetadata,o=n.itemProgress,t=new m["default"](l,o),r=null,a=null;return t.isReviewingComplete()||(r=e&&"result"===e.currentPhase,a=e&&e.phaseEnds.review),{isReviewingComplete:t.isReviewingComplete(),remainingReviewCount:t.remainingReviewCount(),reviewCount:t.reviewCount(),isOverdue:r,reviewDeadline:a}})(w)});
define("bundles/peer/actions/SubmissionActions",["require","exports","module","bundles/peer/api/onDemandPeerSubmissionDraftsApi","bundles/peer/api/onDemandPeerSubmissionsApi","bundles/peer/actions/PeerActions","bundles/peer/utils/responseConversionUtils","./constants"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var o=require("bundles/peer/api/onDemandPeerSubmissionDraftsApi"),r=_interopRequireDefault(o),u=require("bundles/peer/api/onDemandPeerSubmissionsApi"),t=_interopRequireDefault(u),n=require("bundles/peer/actions/PeerActions"),s=require("bundles/peer/utils/responseConversionUtils"),e=require("./constants");exports.onSaveSuccess=function(s){return function(n){return s.dispatch(e.ActionNames.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),s.dispatch(e.ActionNames.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:n}),s.dispatch(e.ActionNames.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),n}},exports.onSaveFailure=function(s){return function(n){if(n.responseJSON||n.status)return s.dispatch(e.ActionNames.PEER_SUBMISSION_APP_STATE_SAVE_ERROR,{statusCode:n.status,response:n.responseJSON}),null;throw n}},exports.localUpdateSubmission=function(s,n){var i=n.submission;s.dispatch(e.ActionNames.PEER_SUBMIT_LOCAL_UPDATE_DRAFT_SUBMISSION,{submission:i})};var i=function updateSubmissionDraft(e){var n=e.userId,i=e.courseId,t=e.itemId,s=e.submission;if(null==s.versionedAssignmentId)throw new Error("Error saving draft submission: could not find existing assignment id");return r["default"].updateSubmissionDraft({userId:n,courseId:i,itemId:t,submissionDraftUpdate:{submission:{title:s.definition.title,parts:s.definition.parts},attachedAssignmentId:s.versionedAssignmentId}})};exports.saveSubmission=function(r,n){var t=n.userId,o=n.courseId,u=n.itemMetadata,d=n.submission,c=n.assignmentVersion;r.dispatch(e.ActionNames.PEER_SUBMISSION_APP_STATE_SAVING);var a=u.get("id");return i({userId:t,courseId:o,itemId:a,submission:d}).then(function(e){return s.convertNaptimeSubmissionDraftToOwnSubmission(e)}).then(exports.onSaveSuccess(r),exports.onSaveFailure(r))},exports.resetSubmission=function(o,e){var s=e.courseId,i=e.userId,u=e.itemMetadata,d=e.submissionId,r=u.get("id");return t["default"].deleteSubmission({userId:i,courseId:s,itemId:r,submissionId:d}).then(function(){return o.executeAction(n.refreshSubmissionAndProgress,{itemId:r,userId:i,courseId:s})})},exports.upgradeSubmission=function(u,e){var I=e.assignmentVersion,m=e.forceUpgradeToAssignmentVersion,d=e.itemMetadata,t=e.courseId,o=e.userId,a=e.submission,c=d.get("id");if(null==a.versionedAssignmentId)throw new Error("Error upgrading assignment: could not find existing assignment id");var S=a.versionedAssignmentId.split("@")[0]+"@"+m;return r["default"].forceUpgradedSubmissionDraft({userId:o,courseId:t,itemId:c,forceUpgradeToAssignmentId:S}).then(function(e){return s.convertRawSubmissionDraft(e)}).then(function(e){return i({itemId:c,submission:e,courseId:t,userId:o})}).then(function(e){return s.convertNaptimeSubmissionDraftToOwnSubmission(e)})["catch"](exports.onSaveFailure(u)).then(function(){return u.executeAction(n.refreshSubmissionAndProgress,{itemId:d.get("id"),userId:o,courseId:t})})},exports.submitSubmission=function(r,o){var c=o.itemMetadata,m=o.submission,I=o.assignmentVersion,S=o.verifiableId,u=o.courseId,a=o.userId;r.dispatch(e.ActionNames.PEER_SUBMISSION_APP_STATE_SUBMITTING);var d=c.get("id");return i({itemId:d,submission:m,courseId:u,userId:a}).then(function(e){return s.convertNaptimeSubmissionDraftToOwnSubmission(e)}).then(exports.onSaveSuccess(r),exports.onSaveFailure(r)).then(function(e){var s=!1;if(e&&e.errorTree&&e.errorTree.errors&&(s=!!e.errorTree.errors.find(function(e){return e.blocksSubmit})),s||!e)throw new Error("submit blocked by errors");return e}).then(function(e){return t["default"].submitSubmission({courseId:u,itemId:d,verifiableId:S,draftCreatedAt:e.submission.createdAt})}).then(function(){return r.dispatch(e.ActionNames.PEER_SUBMISSION_APP_STATE_SUBMIT_SUCCESS),r.executeAction(n.refreshSubmissionAndProgress,{itemId:d,userId:a,courseId:u})})["catch"](function(){return r.dispatch(e.ActionNames.PEER_SUBMISSION_APP_STATE_SUBMIT_ERROR)})}});

define('css!bundles/peer-common/components/__styles__/SubmissionDeleteModal',[],function(){})
define("bundles/peer-common/components/SubmissionDeleteModal",["require","exports","module","react","bundles/phoenix/components/Modal","bundles/peer/actions/SubmissionActions","bundles/page/components/TrackedButton","pages/open-course/common/models/itemMetadata","js/lib/user","i18n!nls/peer","css!./__styles__/SubmissionDeleteModal"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var o=r[t],n=Object.getOwnPropertyDescriptor(s,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,n,r=require("react"),e=_interopRequireDefault(r),a=require("bundles/phoenix/components/Modal"),m=_interopRequireDefault(a),i=require("bundles/peer/actions/SubmissionActions"),l=require("bundles/page/components/TrackedButton"),u=_interopRequireDefault(l),d=require("pages/open-course/common/models/itemMetadata"),b=_interopRequireDefault(d),c=require("js/lib/user"),p=_interopRequireDefault(c),f=require("i18n!nls/peer"),t=_interopRequireDefault(f);require("css!./__styles__/SubmissionDeleteModal");var s=(n=o=function(o){function SubmissionDeleteModal(){var n,e,s;_classCallCheck(this,SubmissionDeleteModal);for(var r=arguments.length,a=Array(r),t=0;r>t;t++)a[t]=arguments[t];return n=e=_possibleConstructorReturn(this,o.call.apply(o,[this].concat(a))),e.state={deletionInProgress:!1},e.handleSubmissionDelete=function(){e.setState({deletionInProgress:!0}),e.context.executeAction(i.resetSubmission,{itemMetadata:e.props.itemMetadata,submissionId:e.props.submissionId,userId:p["default"].get().id,courseId:e.props.courseId})},s=n,_possibleConstructorReturn(e,s)}return _inherits(SubmissionDeleteModal,o),SubmissionDeleteModal.prototype.render=function render(){return this.props.showModal?e["default"].createElement(m["default"],{className:"rc-SubmissionDeleteModal",handleClose:this.props.onModalClose,modalName:t["default"]("Have you reviewed your feedback?")},e["default"].createElement("h3",{className:"headline-4-text title"},t["default"]("Have you reviewed your feedback?")),e["default"].createElement("p",null,t["default"]("\n              Your feedback on this submission will be deleted when you start editing your project. You can resubmit\n              your project for feedback when you finish editing.\n            ")),e["default"].createElement("div",{className:"c-modal-action-bar"},e["default"].createElement(u["default"],{className:"passive",onClick:this.props.onModalClose,trackingName:"edit_project_cancel"},t["default"]("Cancel")),e["default"].createElement("button",{disabled:this.state.deletionInProgress,className:"primary submission-button",onClick:this.handleSubmissionDelete},this.state.deletionInProgress?t["default"]("Loading..."):t["default"]("Edit my submission")))):null},SubmissionDeleteModal}(e["default"].Component),o.propTypes={itemMetadata:e["default"].PropTypes.object.isRequired,onModalClose:e["default"].PropTypes.func.isRequired,showModal:e["default"].PropTypes.bool.isRequired,submissionId:e["default"].PropTypes.string.isRequired,courseId:e["default"].PropTypes.string.isRequired},o.contextTypes={executeAction:e["default"].PropTypes.func},n);module.exports=s});
define("bundles/peer/components/SubmissionEditButton",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","underscore","classnames","bundles/page/components/TrackedButton","bundles/peer-common/components/SubmissionDeleteModal","js/lib/path"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),t=0;t<r.length;t++){var o=r[t],s=Object.getOwnPropertyDescriptor(n,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,r=require("react"),e=_interopRequireDefault(r),a=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=_interopRequireDefault(a),h=require("underscore"),s=_interopRequireDefault(h),u=require("classnames"),d=_interopRequireDefault(u),l=require("bundles/page/components/TrackedButton"),c=_interopRequireDefault(l),p=require("bundles/peer-common/components/SubmissionDeleteModal"),f=_interopRequireDefault(p),m=require("js/lib/path"),b=_interopRequireDefault(m),n=(o=t=function(t){function SubmissionEditButton(){var s,e,n;_classCallCheck(this,SubmissionEditButton);for(var r=arguments.length,a=Array(r),o=0;r>o;o++)a[o]=arguments[o];return s=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.state={showModal:!1},e.openModal=function(){e.setState({showModal:!0})},e.closeModal=function(){e.setState({showModal:!1})},n=s,_possibleConstructorReturn(e,n)}return _inherits(SubmissionEditButton,t),SubmissionEditButton.prototype.componentWillReceiveProps=function componentWillReceiveProps(t){var e=this.props,o=e.hasLoaded,s=e.isSubmitted,n=e.itemMetadata;o&&s&&!t.isSubmitted&&(this.context.router.push(b["default"].join(n.getBaseLink(),"submit")),this.closeModal())},SubmissionEditButton.prototype.render=function render(){var t=this.props,o=t.hasLoaded,s=t.canDelete,n=t.submissionId,r=t.itemMetadata,a=t.className,i=t.courseId,u=t.buttonMessage;if(!o)return null;return e["default"].createElement("div",null,e["default"].createElement("div",{className:d["default"]("rc-SubmissionEditButton",a)},e["default"].createElement(c["default"],{className:"button secondary",disabled:!s,onClick:this.openModal,trackingName:"edit_project"},u)),this.state.showModal&&e["default"].createElement(f["default"],{itemMetadata:r,onModalClose:this.closeModal,showModal:!0,submissionId:n,courseId:i}))},SubmissionEditButton}(e["default"].Component),t.propTypes={itemMetadata:e["default"].PropTypes.object.isRequired,submissionId:e["default"].PropTypes.string.isRequired,courseId:e["default"].PropTypes.string.isRequired,canDelete:e["default"].PropTypes.bool,hasLoaded:e["default"].PropTypes.bool,className:e["default"].PropTypes.string,isSubmitted:e["default"].PropTypes.bool.isRequired,buttonMessage:e["default"].PropTypes.node.isRequired},t.contextTypes={router:e["default"].PropTypes.object},o);module.exports=s["default"].compose(i["default"](["PeerPermissionsAndProgressesStore","CourseStore"],function(t){var e=t.PeerPermissionsAndProgressesStore,o=t.CourseStore,n="loaded"===e.getState().loadState,r=s["default"](e.getState().capabilities).contains("deleteSubmission"),a=e.getState().isSubmitted;return{hasLoaded:n,canDelete:r,isSubmitted:a,courseId:o.getCourseId()}}))(n)});
define("bundles/peer/components/StoreConnectedSubmissionModeMetaInfo",["require","exports","module","react","underscore","bundles/peer-common/components/SubmissionModeMetaInfo","bundles/peer-common/components/ReviewModeMetaInfo","bundles/peer/components/SubmissionEditButton","js/lib/connectToRouter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/peer"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var r=require("react"),e=_interopRequireDefault(r),i=require("underscore"),u=require("bundles/peer-common/components/SubmissionModeMetaInfo"),o=_interopRequireDefault(u),a=require("bundles/peer-common/components/ReviewModeMetaInfo"),d=_interopRequireDefault(a),c=require("bundles/peer/components/SubmissionEditButton"),n=_interopRequireDefault(c),s=require("js/lib/connectToRouter"),m=_interopRequireDefault(s),l=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),b=_interopRequireDefault(l),p=require("i18n!nls/peer"),S=_interopRequireDefault(p),t=function MetaInfo(t,s){if(t.reviewMode)return e["default"].createElement(d["default"],{displayablePhaseSchedule:t.displayablePhaseSchedule,itemMetadata:t.itemMetadata,itemProgress:t.itemProgress});if(!t.hasSubmissionLoaded||!t.hasProgressLoaded)return e["default"].createElement("noscript",null);if(t.submissionMode)return e["default"].createElement(o["default"],{displayablePhaseSchedule:t.displayablePhaseSchedule,itemMetadata:t.itemMetadata,itemProgress:t.itemProgress,itemOutcomeOverrides:t.itemOutcomeOverrides,isDeletedByAdmin:t.isDeletedByAdmin,isSubmitted:t.isSubmitted,isLate:t.isLate,submissionResubmitButton:e["default"].createElement(n["default"],{itemMetadata:t.itemMetadata,submissionId:t.latestSubmissionId,buttonMessage:S["default"]("Edit to resubmit")})});return e["default"].createElement("noscript",null)};t.propTypes={itemMetadata:e["default"].PropTypes.object.isRequired,itemProgress:e["default"].PropTypes.object.isRequired,displayablePhaseSchedule:e["default"].PropTypes.object,reviewMode:e["default"].PropTypes.bool,submissionMode:e["default"].PropTypes.bool,itemOutcomeOverrides:e["default"].PropTypes.object,isDeletedByAdmin:e["default"].PropTypes.bool,isSubmitted:e["default"].PropTypes.bool,isLate:e["default"].PropTypes.bool,latestSubmissionId:e["default"].PropTypes.string,hasSubmissionLoaded:e["default"].PropTypes.bool,hasProgressLoaded:e["default"].PropTypes.bool},module.exports=i.compose(b["default"](["CourseViewGradeStore","PeerSubmissionDraftStore","PeerViewSubmissionStore","PeerPermissionsAndProgressesStore","DisplayablePhaseScheduleStore","ProgressStore"],function(e,r){var m=e.CourseViewGradeStore,t=e.PeerSubmissionDraftStore,s=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore,l=e.DisplayablePhaseScheduleStore,n=e.ProgressStore,u=i.getState().isSubmitted,d=void 0,o=void 0,a=void 0;return u?(d="loaded"===s.getState().loadState,o=s.getState().submissionAndRelated&&s.getState().submissionAndRelated.submission&&s.getState().submissionAndRelated.submission.isLate,a=s.getState().submissionAndRelated&&s.getState().submissionAndRelated.isLatestDeletedSubmissionDeletedByAdmin):(d=t.getState().loaded,o=t.getState().latestSubmissionAndRelated&&t.getState().latestSubmissionAndRelated.submission&&t.getState().latestSubmissionAndRelated.submission.isLate,a=t.getState().latestSubmissionAndRelated&&t.getState().latestSubmissionAndRelated.isLatestDeletedSubmissionDeletedByAdmin),{hasProgressLoaded:"loaded"===i.getState().loadState,displayablePhaseSchedule:l.getState().displayablePhaseSchedule,itemMetadata:r.itemMetadata,itemOutcomeOverrides:m.getItemOutcomeOverrides(),itemProgress:n.courseProgress.getItemProgress(r.itemMetadata.get("id")),latestSubmissionId:i.getState().latestSubmissionId,isSubmitted:i.getState().isSubmitted,hasSubmissionLoaded:d,isLate:o,isDeletedByAdmin:a}}),m["default"](function(e){return{submissionMode:e.isActive({name:"peer.instructions",params:e.params},!0)||e.isActive({name:"peer.submit",params:e.params},!0),reviewMode:e.isActive({name:"peer.give-feedback",params:e.params},!0)||e.isActive({name:"peer.review-next",params:e.params},!0)||e.isActive({name:"peer.review",params:Object.assign({submission_id:""},e.params)},!0)}}))(t)});
define("bundles/peer/components/PeerItem",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","underscore","i18n!nls/peer","js/lib/connectToFluxibleContext","js/lib/provideFluxibleAppContext","js/lib/retracked","js/lib/user","js/lib/waitFor","js/lib/connectToRouter","bundles/ondemand/utils/socialExperimentUtils","bundles/peer/actions/PeerActions","bundles/peer/app","bundles/peer-common/components/RubricPreviewLink","bundles/peer-common/components/Assignment","pages/open-course/common/models/itemMetadata","pages/open-course/common/models/progress","bundles/peer/components/StoreConnectedSubmissionModeMetaInfo"],function(require,exports,module){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defaults(e,s){for(var n=Object.getOwnPropertyNames(s),t=0;t<n.length;t++){var o=n[t],r=Object.getOwnPropertyDescriptor(s,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,r,n=require("react"),e=_interopRequireDefault(n),i=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=_interopRequireDefault(i),a=require("underscore"),c=_interopRequireDefault(a),d=require("i18n!nls/peer"),t=_interopRequireDefault(d),l=require("js/lib/connectToFluxibleContext"),p=_interopRequireDefault(l),m=require("js/lib/provideFluxibleAppContext"),f=_interopRequireDefault(m),b=require("js/lib/retracked"),g=_interopRequireDefault(b),E=require("js/lib/user"),v=_interopRequireDefault(E),P=require("js/lib/waitFor"),w=_interopRequireDefault(P),y=require("js/lib/connectToRouter"),h=_interopRequireDefault(y),I=require("bundles/ondemand/utils/socialExperimentUtils"),j=require("bundles/peer/actions/PeerActions"),M=require("bundles/peer/app"),x=_interopRequireDefault(M),S=require("bundles/peer-common/components/RubricPreviewLink"),T=_interopRequireDefault(S),k=require("bundles/peer-common/components/Assignment"),C=_interopRequireDefault(k),O=require("pages/open-course/common/models/itemMetadata"),N=_interopRequireDefault(O),A=require("pages/open-course/common/models/progress"),q=_interopRequireDefault(A),L=require("bundles/peer/components/StoreConnectedSubmissionModeMetaInfo"),F=_interopRequireDefault(L),R=(r=o=function(o){function PeerItem(){return _classCallCheck(this,PeerItem),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(PeerItem,o),PeerItem.prototype.render=function render(){var s=this.props,i=s.courseId,u=s.itemProgress,n=this.context.router,o=this.props.itemMetadata;if(o.isAssignmentPartForSplitPeer()){var r=n.routes[n.routes.length-1].path;("give-feedback"===r||"review"===r||"review-next"===r)&&(o=o.getReviewPartFromSplitPeer())}return e["default"].createElement(C["default"],{itemMetadata:o,itemProgress:u,unfilteredLeftNavLinkConfigs:[{url:"",title:t["default"]("Instructions"),event:"instructions",routeNames:["peer.instructions"],splitViewMode:"submission"},{url:"submit",title:t["default"]("My submission"),event:"my_project",routeNames:["peer.submit"],splitViewMode:"submission"},{url:"give-feedback",title:t["default"]("Review classmates"),event:"review_peers",routeNames:["peer.give-feedback","peer.review"],splitViewMode:"review"}],unfilteredRightNavLinkConfigs:[!I.isForumsBlacklisted(this.props.courseId)&&{url:"discussions",title:t["default"]("Discussions"),event:"question_and_answer",routeNames:["peer.discussions"],splitViewMode:"submission"}].filter(function(e){return!!e}),MetaInfoElement:e["default"].createElement(F["default"],{itemMetadata:o})},e["default"].createElement(T["default"],{itemLink:o.getBaseLink()}),this.props.children&&e["default"].cloneElement(this.props.children,{itemMetadata:o,courseId:i}))},PeerItem}(e["default"].Component),o.propTypes={itemMetadata:e["default"].PropTypes.object.isRequired,itemProgress:e["default"].PropTypes.object.isRequired,courseId:e["default"].PropTypes.string.isRequired,children:e["default"].PropTypes.element},o.contextTypes={executeAction:e["default"].PropTypes.func.isRequired,router:e["default"].PropTypes.object.isRequired},r),s=c["default"].compose(f["default"](x["default"]),w["default"](function(e){return!!e.itemMetadata}),u["default"](["CourseStore","ProgressStore"],function(e,t){var o=e.CourseStore,r=e.ProgressStore;return{courseId:o.getCourseId(),itemProgress:r.getItemProgress(t.itemMetadata.getId())}}),h["default"](function(e){return{isSubmitOrInstructionsPage:e.isActive({name:"peer.instructions",params:e.params},!0)||e.isActive({name:"peer.submit",params:e.params},!0)}}),p["default"](function(o,e){var t=e.itemMetadata,r=e.courseId,s=e.isSubmitOrInstructionsPage,n=t.isLockedForSessions()||t.isLockedFully();n||o.executeAction(j.loadInitialPeerData,{itemId:t.get("id"),userId:v["default"].get().id,courseId:r,shouldLoadOwnPeerViewSubmission:s})}),g["default"].createTrackedContainer(function(t){var o=t.courseId,e=t.itemMetadata;return{namespace:{app:"open_course_item",page:"peer_review_header"},open_course_id:o,module_id:e.getModuleId(),lesson_id:e.getLessonId(),item_id:e.getId()}}))(R);module.exports=s});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.rc-RubricPreviewLink{margin-bottom:12px}.scribe-image-upload-command-loader{background:#fff;position:absolute;padding:5px 15px;border:1px solid #aaa}.scribe-image-upload-command-in-progress{opacity:.1;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)\";filter:alpha(opacity=10)}.rc-TabbedItemLayout{margin:0 auto;}.rc-TabbedItemLayout .preview-title{margin-top:0}.rc-TabbedItemLayout .header{margin:60px 0 0 0}.rc-TabbedItemLayout ol.tabs{margin-bottom:20px;}.rc-TabbedItemLayout ol.tabs li.right{float:right}.rc-PeerReviewInformation{margin-top:8px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-AssignmentHeader{margin-bottom:40px;}.rc-AssignmentHeader .c-peer-review-title{margin-top:20px;margin-bottom:10px;}.rc-AssignmentHeader .c-peer-review-title .cif-check-circle.c-peer-review-title-check{margin-right:10px;color:#2ab573}.rc-Assignment .rc-LightItemLayout .content-container{background-color:#fafafa;margin-top:0}.rc-AssignmentInstructions .title,.rc-AssignmentSubmit .title{margin-bottom:20px}.rc-MessageAndButton .button-container{padding-left:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MessageCard{padding:12px 12px;border-top:1px solid rgba(0,0,0,0.12);border-bottom:1px solid rgba(0,0,0,0.12);}.rc-MessageCard .rc-SessionSwitchButton{margin:auto 12px auto 0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SessionSwitchModal .contents{margin:16px 24px 16px 0}.rc-SessionSwitchModal .cancel-button{margin-right:24px}.rc-SessionSwitchModal .rc-SessionSwitchSuccess .content,.rc-SessionSwitchModal .rc-SessionSwitchBranchChangeInfo .content,.rc-SessionSwitchModal .rc-SessionSwitchInfo .content{padding:16px 0}.rc-SessionSwitchModal .rc-SessionSwitchBranchChangeInfo .instructor-note{padding:12px 0;border-top:1px solid rgba(0,0,0,0.06)}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SubmissionModeMetaInfo .deadline-pill{margin-bottom:20px}.rc-SubmissionModeMetaInfo i{margin:8px 10px 0 0;}.rc-SubmissionModeMetaInfo i.cif-warning{color:#f5a623}.rc-SubmissionModeMetaInfo i.cif-info{color:#2a73cc}.rc-ReviewModeMetaInfo .deadline-pill{margin-bottom:20px}.rc-ReviewModeMetaInfo .review-count-table{margin-bottom:20px;}.rc-ReviewModeMetaInfo .review-count-table th{font-weight:strong;padding-right:20px}.rc-SubmissionDeleteModal .title{margin-bottom:20px}.rc-SubmissionDeleteModal .submission-button{margin-left:12px}');
